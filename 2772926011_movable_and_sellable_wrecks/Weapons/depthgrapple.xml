<?xml version="1.0" encoding="utf-8"?>
<Items>
  <Override>
    <Item name="Heavy Industrial Hook" identifier="railgunharpoon" aliases="grapple" category="Equipment" maxstacksize="1" interactthroughwalls="true" cargocontaineridentifier="metalcrate" tags="largeitem,grapple,depthchargeammo,railgunammo,explosive" Scale="0.5" impactsoundtag="impact_metal_heavy" description="Industrial hook that can be fired from a depth charge tube or from canister shell. Used for towing submarine back to outposts." interactdistance="100">
      <PreferredContainer primary="ammoboxcontainer" />
      <PreferredContainer secondary="armcab" minamount="0" maxamount="1" spawnprobability="0.01" />
      <PreferredContainer secondary="wreckarmcab" minamount="0" maxamount="1" spawnprobability="0.05" />
      <PreferredContainer secondary="wreckammoboxcontainer" minamount="0" maxamount="3" spawnprobability="0.05" />
      <PreferredContainer secondary="abandonedarmcab" minamount="0" maxamount="1" spawnprobability="0.02" />
      <PreferredContainer secondary="wreckstoragecab" minamount="0" maxamount="1" spawnprobability="0.02" />
      <Price baseprice="175">
        <Price storeidentifier="merchantcity" multiplier="1.2" minavailable="1" sold="false" />
        <Price storeidentifier="merchantresearch" multiplier="1.3" minavailable="4" />
        <Price storeidentifier="merchantmilitary" multiplier="0.9" minavailable="6" />
        <Price storeidentifier="merchantmine" multiplier="1.2" minavailable="4" />
        <Price storeidentifier="merchantarmory" multiplier="0.9" minavailable="6" />
      </Price>
      <Deconstruct time="25">
        <Item identifier="steel" />
        <Item identifier="titaniumaluminiumalloy" />
      </Deconstruct>
      <Fabricate suitablefabricators="fabricator" requiredtime="10">
        <RequiredSkill identifier="weapons" level="40" />
        <RequiredItem identifier="steel" />
        <RequiredItem identifier="titaniumaluminiumalloy" />
      </Fabricate>
      <InventoryIcon texture="%ModDir%/Weapons/weapons_grapple.png" sourcerect="0,81,111,69" origin="0.5,0.5" />
      <Sprite texture="%ModDir%/Weapons/weapons_grapple.png" sourcerect="0,81,111,69" origin="0.5,0.5" />
      <Decorativesprite texture="%ModDir%/Weapons/weapons_grapple.png" sourcerect="119,0,93,160" origin="0.5,0.5">
        <Conditional IsActive="True" targetitemcomponent="Projectile" />
      </Decorativesprite>
      <!-- 	  <Decorativesprite texture="%ModDir%/Weapons/weapons_railgunharpoon.png" sourcerect="0,81,111,69" origin="0.5,0.5" >
		<Conditional IsActive="False" targetitemcomponent="Projectile" />
	  </Decorativesprite> -->
      <Body width="80" height="80" density="20" />
      <Holdable slots="RightHand+LeftHand" holdpos="15,-50" handle1="-10,0" handle2="10,0" aimable="false" msg="ItemMsgPickUpSelect">
        <StatusEffect type="OnContained" target="Character" SpeedMultiplier="0.6" setvalue="true" interval="0.2" duration="0.2" disabledeltatime="true" />
      </Holdable>
      <Rope targetpullforce="80000" IncreaseForceForEscapingTargets="true" sourcepullforce="80000" projectilepullforce="0" maxlength="8000" lerpforces="true" snaponcollision="true" SnapWhenWeaponFiredAgain="true" spritewidth="20" tile="true" BarrelLengthMultiplier="0.3" origin="0.05,0.5">
        <Sprite texture="%ModDir%/Weapons/weapons_grapple.png" sourcerect="0,13,101,20" depth="0.57" origin="0.5,0.5" />
        <SnapSound file="Content/Items/Weapons/HarpoonGun1.ogg" range="500" frequencymultiplier="3.0,4.0" />
        <ReelSound file="Content/Items/Weapons/WEAPON_harpoonGunReelLoop.ogg" range="5000" ReelSoundPitchSlide="0.7,1.0" />
        <!-- Snap after 5 seconds if not stuck to anything -->
        <StatusEffect type="OnUse" target="This" Snapped="true" delay="5" checkconditionalalways="true">
          <Conditional targetitemcomponent="Projectile" IsStuckToTarget="false" />
        </StatusEffect>
      </Rope>
      <Projectile characterusable="false" launchimpulse="50.0" sticktostructures="true" sticktocharacters="true" sticktodeflective="true" sticktodoors="true" StickToLightTargets="false" GoThroughLightTargets="true" LightTargetMassThreshold="0.15" JointBreakPoint="100000">
        <Attack structuredamage="10" itemdamage="10" severlimbsprobability="0.5">
          <Affliction identifier="lacerations" strength="100" />
          <Affliction identifier="bleeding" strength="100" />
          <Affliction identifier="stun" strength="1.5" />
        </Attack>
        <StatusEffect type="OnActive" target="UseTarget,This" checkconditionalalways="true" comparison="And" disabledeltatime="true">
          <Conditional Snapped="false" />
          <Conditional mass="lt 9301" />
          <Conditional speciesname="neq human" />
          <Affliction identifier="drag" strength="1" />
        </StatusEffect>
        <StatusEffect type="OnImpact" target="This">
          <Sound file="Content/Map/Thalamus/Sounds/CARRIER_harpoonHit1.ogg" range="1000" selectionmode="Random" />
          <Sound file="Content/Map/Thalamus/Sounds/CARRIER_harpoonHit2.ogg" range="1000" />
        </StatusEffect>
      </Projectile>
    </Item>
    <Item name="" identifier="coilgunharpoon" category="Weapon" scale="0.5" sonarsize="2" hideinmenus="true">
      <Sprite texture="Content/Items/Weapons/weapons_new.png" sourcerect="144,447,112,12" depth="0.55" />
      <Body width="160" height="10" density="20" />
      <Holdable slots="RightHand+LeftHand" holdpos="0,-50" handle1="-10,0" handle2="10,0" aimable="false" />
      <Rope targetpullforce="20000" IncreaseForceForEscapingTargets="false" sourcepullforce="20000" projectilepullforce="5" maxlength="8000" lerpforces="true" snaponcollision="true" spritewidth="8" BarrelLengthMultiplier="0.85" origin="0.05,0.5" tile="true" SnapWhenNotAimed="false" SnapWhenWeaponFiredAgain="false">
        <Sprite texture="Content/Items/Weapons/weapons_new.png" sourcerect="428,242,81,24" depth="0.57" origin="0.5,0.5" />
        <SnapSound file="Content/Items/Weapons/HarpoonGun1.ogg" range="500" frequencymultiplier="3.0,4.0" />
        <ReelSound file="Content/Items/Weapons/WEAPON_harpoonGunReelLoop.ogg" range="5000" ReelSoundPitchSlide="0.7,1.0" />
        <!-- Remove 1 second after snapping -->
        <StatusEffect type="Always" target="This" delay="1" checkconditionalalways="true" conditionalcomparison="And">
          <Conditional Snapped="true" TargetItemComponent="Rope" />
          <Conditional IsActive="true" TargetItemComponent="Projectile" />
          <Remove />
        </StatusEffect>
        <!-- Snap after 5 seconds if not stuck to anything -->
        <StatusEffect type="OnUse" target="This" Snapped="true" delay="5" checkconditionalalways="true">
          <Conditional targetitemcomponent="Projectile" IsStuckToTarget="false" />
        </StatusEffect>
      </Rope>
      <Projectile characterusable="false" launchimpulse="0" JointBreakPoint="20000" sticktostructures="true" sticktocharacters="true" sticktodeflective="true" sticktodoors="true" StickToLightTargets="true" GoThroughLightTargets="true" LightTargetMassThreshold="0.15" maxtargetstohit="3">
        <Attack structuredamage="35" itemdamage="10" severlimbsprobability="0.1" penetration="0.5">
          <Affliction identifier="lacerations" strength="9" />
          <Affliction identifier="bleeding" strength="2" />
          <Affliction identifier="stun" strength="0.0125" />
        </Attack>
        <StatusEffect type="OnActive" target="UseTarget,This" checkconditionalalways="true" comparison="And" disabledeltatime="true">
          <Conditional Snapped="false" />
          <Conditional mass="lt 1205" />
          <Conditional speciesname="neq human" />
          <Affliction identifier="drag" strength="1" />
        </StatusEffect>
        <StatusEffect type="OnActive" target="This" lifetime="2">
          <ParticleEmitter particle="ammotrailwater" copyentityangle="true" anglemin="-5" anglemax="5" particleamount="5" velocitymin="-10" velocitymax="-100" scalemin="0.5" scalemax="1" />
        </StatusEffect>
        <StatusEffect type="OnImpact" target="This">
          <Sound file="Content/Map/Thalamus/Sounds/CARRIER_harpoonHit1.ogg" range="1000" selectionmode="Random" />
          <Sound file="Content/Map/Thalamus/Sounds/CARRIER_harpoonHit2.ogg" range="1000" />
        </StatusEffect>
        <StatusEffect type="OnBroken" target="This">
          <ParticleEmitter particle="shrapnel" copyentityangle="true" anglemin="0" anglemax="360" particleamount="10" velocitymin="100" velocitymax="2000" scalemin="0.5" scalemax="0.75" />
          <Remove />
        </StatusEffect>
      </Projectile>
    </Item>
  </Override>
</Items>