<?xml version="1.0" encoding="utf-8"?>
<Items>
  <Override>
    <!--脈衝雷射彈物資箱-->
    <!-- 加強，增加傷害15點，同時重分配傷害類型 -->
    <!-- 生成機率下降(因為這個的攻擊威力真的不低，雖說本來你被脈衝雷射打到就不太可能活下來) -->
    <!-- 2/18，爆炸的穿甲直接拔除，但爆炸的威力增加，增加了直擊的衝擊力，減少了製造時間 -->
    <Item name="" identifier="ek_pulselaserplasmaammobox" scale="0.5" tags="pulselaserequipment,pulselaserammo,ammobox" subcategory="ekr_armory_Weapons" category="Weapon" linkable="true" impactsoundtag="impact_metal_heavy">
      <PreferredContainer primary="pulselaserloader,ammoboxcontainer,ammocontainer" mincondition="1" spawnprobability="0.125" minleveldifficulty="35"/>
      <PreferredContainer secondary="pulselaserloaderwrecked" amount="1" spawnprobability="0.025" minleveldifficulty="20"/>
      <PreferredContainer secondary="wreckammoboxcontainer" amount="1" spawnprobability="0.05" minleveldifficulty="20"/>
      <Price baseprice="425" sold="false" displaynonempty="true" minleveldifficulty="20">
        <Price storeidentifier="merchantoutpost" multiplier="1.3" />
        <Price storeidentifier="merchantcity" multiplier="1.2" />
        <Price storeidentifier="merchantresearch" sold="true" multiplier="1.3" minavailable="1" />
        <Price storeidentifier="merchantmilitary" multiplier="0.9" />
        <Price storeidentifier="merchantmine" multiplier="1.2" />
        <Price storeidentifier="merchantarmory" multiplier="0.9" />
      </Price>
      <Deconstruct time="10">
        <Item identifier="lithium" mincondition="0.95" />
        <Item identifier="liquidoxygenite" mincondition="0.95" />
        <Item identifier="fpgacircuit" />
        <Item identifier="aluminium" />
      </Deconstruct>
      <Fabricate suitablefabricators="fabricator" requiredtime="20">
        <RequiredSkill identifier="weapons" level="65" />
        <RequiredItem identifier="lithium" />
        <!-- 88 -->
        <RequiredItem identifier="alienblood" />
        <!-- 100 -->
        <RequiredItem identifier="liquidoxygenite" />
        <!-- 80 -->
        <RequiredItem identifier="fpgacircuit" />
        <!-- 80 -->
        <RequiredItem identifier="aluminium" />
        <!-- 42 -->
      </Fabricate>
      <Fabricate suitablefabricators="fabricator" displayname="recycleitem" requiredtime="15">
        <RequiredSkill identifier="weapons" level="60" />
        <RequiredItem identifier="lithium" />
        <RequiredItem identifier="alienblood" />
        <RequiredItem identifier="liquidoxygenite" />
        <RequiredItem identifier="ek_pulselaserplasmaammobox" mincondition="0.0" maxcondition="0.1" usecondition="false" />
      </Fabricate>
      <Sprite texture="%ModDir%/Items/Containers/containers_chaingunammo_ek.png" depth="0.54" sourcerect="0,0,112,80" origin="0.5,0.5" />
      <Body width="108" height="78" density="30" />
      <Holdable canbecombined="true" removeoncombined="false" slots="Any,RightHand,LeftHand" holdpos="0,-30" handle1="0,-30" aimable="false" msg="ItemMsgPickUpSelect">
        <StatValue stattype="MovementSpeed" value="-0.2" />
      </Holdable>
      <ItemContainer hideitems="true" capacity="1" drawinventory="false" canbeselected="false" canbecombined="true" ShowConditionInContainedStateIndicator="true" removecontaineditemsondeconstruct="true" containedstateindicatorstyle="bullet">
        <StatusEffect type="OnUse" target="This" disabledeltatime="true">
          <SpawnItem identifiers="ek_pulselaserplasmabolt" spawnposition="ThisInventory" />
          <Conditional condition="gt 0" />
        </StatusEffect>
        <StatusEffect type="OnUse" target="This" condition="-2.5" disabledeltatime="true">
          <RequiredItem items="ek_pulselaserplasmabolt" type="Contained" />
        </StatusEffect>
        <Containable items="ek_pulselaserplasmabolt" />
      </ItemContainer>
    </Item>
    <!--脈衝雷射子彈-->
    <Item name="" identifier="ek_pulselaserplasmabolt" category="Weapon" scale="1" sonarsize="2" hideinmenus="true">
      <Sprite texture="Content/Items/Weapons/weapons_new.png" sourcerect="0,0,16,16" depth="0.55" />
      <Body width="85" height="10" density="10" />
      <Holdable slots="RightHand+LeftHand" holdpos="0,-50" handle1="-10,0" handle2="10,0" aimable="false" />
      <Projectile characterusable="false" hitscan="false" launchimpulse="100.0" removeonhit="true" damagedoors="true">
        <!--
	  <ParticleEmitter particle="tracerpulselaser" particleamount="1" velocitymin="0" velocitymax="0"/>
      <ParticleEmitter particle="FlareBubbles" emitacrossrayinterval="50"/>
	  -->
        <!-- 這裡的穿甲提高0.1 -->
        <Attack structuredamage="100" targetforce="100" itemdamage="275" severlimbsprobability="0.0" penetration="0.6">
          <!--
        <Affliction identifier="explosiondamage" strength="150" />
        <Affliction identifier="burn" strength="125" />
        <Affliction identifier="bleeding" strength="20" />
        <Affliction identifier="stun" strength="0.4" />
		-->
          <!-- 取消直擊的流血傷害，全加到其他兩個上 -->
          <Affliction identifier="explosiondamage" strength="30" />
          <Affliction identifier="burn" strength="30" />
          <Affliction identifier="stun" strength="0.4" />
        </Attack>
        <StatusEffect type="OnActive" target="This" condition="-35" />
        <StatusEffect type="OnActive" target="This">
          <Conditional condition="gt 60" />
          <ParticleEmitter particle="FlareBubbles" particlespersecond="60" anglemin="0" anglemax="360" initialdelay="0.05" distancemin="0" distancemax="150" />
          <ParticleEmitter particle="muzzleflashpulselaser" scalemin="0.6" scalemax="0.6" particlespersecond="60" anglemin="0" anglemax="360" />
          <ParticleEmitter particle="GlowDot" scalemin="6.0" scalemax="6.0" particlespersecond="120" anglemin="0" anglemax="360" colormultiplier="255,0,0,255" />
          <ParticleEmitter particle="pulselasermist" scalemin="1" scalemax="1" particlespersecond="60" anglemin="0" anglemax="360" velocitymin="0" velocitymax="100" />
        </StatusEffect>
        <StatusEffect type="OnActive" target="This" comparison="and">
          <Conditional condition="gt 30" />
          <Conditional condition="lt 60" />
          <ParticleEmitter particle="FlareBubbles" particlespersecond="45" anglemin="0" anglemax="360" initialdelay="0.05" distancemin="0" distancemax="150" />
          <ParticleEmitter particle="muzzleflashpulselaser" scalemin="0.5" scalemax="0.5" particlespersecond="50" anglemin="0" anglemax="360" />
          <ParticleEmitter particle="GlowDot" scalemin="5.0" scalemax="5.0" particlespersecond="90" anglemin="0" anglemax="360" colormultiplier="255,0,0,255" />
          <ParticleEmitter particle="pulselasermist" scalemin="0.8" scalemax="0.8" particlespersecond="45" anglemin="0" anglemax="360" velocitymin="0" velocitymax="100" />
        </StatusEffect>
        <StatusEffect type="OnActive" target="This">
          <Conditional condition="lt 30" />
          <ParticleEmitter particle="FlareBubbles" particlespersecond="30" anglemin="0" anglemax="360" initialdelay="0.05" distancemin="0" distancemax="150" />
          <ParticleEmitter particle="muzzleflashpulselaser" scalemin="0.4" scalemax="0.4" particlespersecond="40" anglemin="0" anglemax="360" />
          <ParticleEmitter particle="GlowDot" scalemin="4.0" scalemax="4.0" particlespersecond="60" anglemin="0" anglemax="360" colormultiplier="255,0,0,255" />
          <ParticleEmitter particle="pulselasermist" scalemin="0.6" scalemax="0.6" particlespersecond="30" anglemin="0" anglemax="360" velocitymin="0" velocitymax="100" />
        </StatusEffect>
        <StatusEffect type="OnImpact" target="UseTarget">
          <ParticleEmitter particle="muzzleflashpulselaser" anglemin="0" anglemax="360" particleamount="8" velocitymin="0" scalemin="1.2" scalemax="1.6" />
          <ParticleEmitter particle="weldspark" particleamount="7" anglemin="0" anglemax="360" velocitymin="300" velocitymax="350" scalemin="2" scalemax="2.5" drawontop="true" colormultiplier="255,200,225,180" />
          <ParticleEmitter particle="FlareBubbles" particleamount="3" anglemin="0" anglemax="360" velocitymin="0" velocitymax="50" />
        </StatusEffect>
        <StatusEffect type="OnImpact" target="UseTarget">
          <Conditional entitytype="eq Structure" />
          <Conditional hastag="eq door" />
          <ParticleEmitter particle="spark" copyentityangle="true" anglemin="-10" anglemax="10" particleamount="5" velocitymin="-10" velocitymax="-200" scalemin="0.5" scalemax="1" />
        </StatusEffect>
        <StatusEffect type="OnImpact" target="UseTarget">
          <!-- 增加爆炸範圍，其定位為爆炸範圍更大的雷射彈，在爆炸範圍的方向進行特化(傷害占比調整，因為穿了高階的潛水服後通常比較不怕燒傷) -->
          <Explosion range="350.0" structuredamage="0" itemdamage="0" severlimbsprobability="1.0" force="10.0" flames="false" smoke="false" sparks="false" underwaterbubble="false" flashcolor="255,0,0,255">
            <Affliction identifier="explosiondamage" strength="80" />
            <Affliction identifier="burn" strength="80" />
            <Affliction identifier="stun" strength="1" />
          </Explosion>
          <Explosion range="300" structuredamage="20" itemdamage="25" force="5.0" camerashake="0" flames="false" smoke="false" flash="false" sparks="false" shockwave="false" underwaterbubble="false">
            <Affliction identifier="explosiondamage" strength="80" />
            <Affliction identifier="burn" strength="80" />
            <Affliction identifier="stun" strength="2" />
          </Explosion>
        </StatusEffect>
        <!-- 3秒後自炸，自炸的威力不會下降，反而會提高 -->
        <StatusEffect type="OnNotContained" target="This" stackable="false" delay="3">
          <Explosion range="300.0" structuredamage="0" itemdamage="0" severlimbsprobability="1.0" force="10.0" flames="false" smoke="false" sparks="false" underwaterbubble="false" flashcolor="255,0,0,255">
            <Affliction identifier="explosiondamage" strength="100" />
            <Affliction identifier="burn" strength="80" />
            <Affliction identifier="stun" strength="1" />
          </Explosion>
          <Explosion range="300" structuredamage="20" itemdamage="25" force="5.0" camerashake="0" flames="false" smoke="false" flash="false" sparks="false" shockwave="false" underwaterbubble="false">
            <Affliction identifier="explosiondamage" strength="100" />
            <Affliction identifier="burn" strength="80" />
            <Affliction identifier="stun" strength="2" />
          </Explosion>
          <Remove />
        </StatusEffect>
      </Projectile>
    </Item>
  </Override>
</Items>