<?xml version="1.0" encoding="utf-8"?>
<Randomevents>
  <!-- DO NOT GIVE ANY SUBMARINE/PVP MISSION, if players take two pirate missions the game cannot handle spawning 2 enemy subs -->
  <!-- DO NOT GIVE ANY SUBMARINE/PVP MISSION, if players take two pirate missions the game cannot handle spawning 2 enemy subs -->
  <!-- DO NOT GIVE ANY SUBMARINE/PVP MISSION, if players take two pirate missions the game cannot handle spawning 2 enemy subs -->
  <!-- TODO: Completely rework job board missions; job board just distributing extra missions isnt very original or exciting.
  
  They should be either:
  -small additional side missions; ideally GoTo a distant location to avoid just giving extra money
  -missions in the current outpost, ideally using traitorevent UI, but it's incomplete (see https://github.com/FakeFishGames/Barotrauma/discussions/16160)
  
  Job board missions should be small flavor tasks with a small payoff. 
  Doing a task should always cost a few resources so it's not completely free money
  They shouldn't send you cave diving or ruin crawling as this takes too much time to complete 
  
  Ideas: 
  -Clean an outpost with sprayer
  -pick up trash
  -assist a researcher with disposing of a weighty artifact
  -help healing some patients on the station
  -repair some stuff
  -replace faulty extinguishers
  -put extra supplies in a beacon
  -Goto shitty location (tier 1 outposts)
  -arrest bandit in abandonedoutpost (might conflict?)
  -trigger ruin/wreck locator 
  
  -->
  <EventPrefabs>
    <!-- Legacy Job Board: Provides all options regardless of your current location type. -->
    <ScriptedEvent identifier="jobboardde" commonness="100">
      <WaitAction time="1" />
      <CheckReputationAction targettype="Location" condition="gt -20">
        <Failure>
          <Goto name="end" />
        </Failure>
      </CheckReputationAction>
      <TagAction criteria="itemidentifier:de-jobboard" tag="potentialjobboard" submarinetype="outpost" />
      <CheckDataAction identifier="jobboard_always" condition="true">
        <Success>
          <Label name="start_jobboard_regular" />
          <CheckMissionAction MissionTag="outposttakeovermission" Type="Current">
            <Success>
              <!-- End -->
            </Success>
            <Failure>
              <TagAction criteria="player" tag="player" />
              <SetDataAction identifier="jobboardempty" operation="set" value="0" />
              <TriggerAction target1tag="potentialjobboard" target2tag="player" waitforinteraction="false" radius="500" />
              <StatusEffectAction targettag="potentialjobboard">
                <StatusEffect target="This" noninteractable="false" setvalue="true" disabledeltatime="true" />
              </StatusEffectAction>
              <Label name="waitforinput" />
              <!-- The condition of CheckDataAction defines the amount of missions you can get from the job board -->
              <CheckDataAction identifier="jobboardempty" condition="lt 1">
                <Success>
                  <TriggerAction target1tag="potentialjobboard" target2tag="player" applytotarget2="jb_trig_player" waitforinteraction="true" />
                  <ConversationAction targettag="jb_trig_player" text="eventtext.jobboardde.interact" eventsprite="noticeboard" dialogtype="Regular">
                    <!-- <Option text="eventtext.jobboardde.option.piratemission">
                      <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.piratemission.info" eventsprite="noticeboard">
                        <Option text="eventtext.option.accept">
                          <ConversationAction text="eventtext.jobboardde.option.piratemission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                          <RNGAction chance="0.65">
                            <Success>
                              <RNGAction chance="0.8">
                                <Success>
                                  <MissionAction missionidentifier="pirate_heavy" />
                                </Success>
                                <Failure>
                                  <MissionAction missionidentifier="pirate_piezo" />
                                </Failure>
                              </RNGAction>
                            </Success>
                            <Failure>
                              <MissionAction missionidentifier="pirate_party" />
                            </Failure>
                          </RNGAction>
                          <ClearTagAction tag="jb_trig_player" />
                          <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                          <GoTo name="waitforinput" />
                        </Option>
                        <Option text="eventtext.option.decline">
                          <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                          <ClearTagAction tag="jb_trig_player" />
                          <GoTo name="waitforinput" />
                        </Option>
                      </ConversationAction>
                    </Option> -->
                    <Option text="eventtext.jobboardde.option.monstermission">
                      <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.monstermission.info" eventsprite="noticeboard">
                        <Option text="eventtext.option.accept">
                          <ConversationAction text="eventtext.jobboardde.option.monstermission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                          <MissionAction missiontag="killmonster" />
                          <ClearTagAction tag="jb_trig_player" />
                          <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                          <GoTo name="waitforinput" />
                        </Option>
                        <Option text="eventtext.option.decline">
                          <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                          <ClearTagAction tag="jb_trig_player" />
                          <GoTo name="waitforinput" />
                        </Option>
                      </ConversationAction>
                    </Option>
                    <Option text="eventtext.jobboardde.option.miningmission">
                      <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.miningmission.info" eventsprite="noticeboard">
                        <Option text="eventtext.option.accept">
                          <ConversationAction text="eventtext.jobboardde.option.miningmission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                          <MissionAction missiontag="collectminerals" />
                          <ClearTagAction tag="jb_trig_player" />
                          <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                          <GoTo name="waitforinput" />
                        </Option>
                        <Option text="eventtext.option.decline">
                          <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                          <ClearTagAction tag="jb_trig_player" />
                          <GoTo name="waitforinput" />
                        </Option>
                      </ConversationAction>
                    </Option>
                    <Option text="eventtext.jobboardde.option.cargomission">
                      <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.cargomission.info" eventsprite="noticeboard">
                        <Option text="eventtext.option.accept">
                          <ConversationAction text="eventtext.jobboardde.option.cargomission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                          <MissionAction missiontag="cargo" />
                          <ClearTagAction tag="jb_trig_player" />
                          <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                          <GoTo name="waitforinput" />
                        </Option>
                        <Option text="eventtext.option.decline">
                          <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                          <ClearTagAction tag="jb_trig_player" />
                          <GoTo name="waitforinput" />
                        </Option>
                      </ConversationAction>
                    </Option>
                    <Option text="eventtext.jobboardde.option.salvagemission">
                      <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.salvagemission.info" eventsprite="noticeboard">
                        <Option text="eventtext.option.accept">
                          <ConversationAction text="eventtext.jobboardde.option.salvagemission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                          <RNGAction chance="0.6">
                            <Success>
                              <MissionAction missiontag="salvagewreck" />
                              <ClearTagAction tag="jb_trig_player" />
                              <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                              <GoTo name="waitforinput" />
                            </Success>
                            <Failure>
                              <MissionAction missiontag="salvageartifact" />
                              <ClearTagAction tag="jb_trig_player" />
                              <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                              <GoTo name="waitforinput" />
                            </Failure>
                          </RNGAction>
                        </Option>
                        <Option text="eventtext.option.decline">
                          <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                          <ClearTagAction tag="jb_trig_player" />
                          <GoTo name="waitforinput" />
                        </Option>
                      </ConversationAction>
                    </Option>
                    <Option text="eventtext.option.decline">
                      <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                      <ClearTagAction tag="jb_trig_player" />
                      <GoTo name="waitforinput" />
                    </Option>
                  </ConversationAction>
                </Success>
                <Failure>
                  <StatusEffectAction targettag="potentialjobboard">
                    <StatusEffect target="This" noninteractable="true" setvalue="true" disabledeltatime="true" />
                  </StatusEffectAction>
                </Failure>
              </CheckDataAction>
            </Failure>
          </CheckMissionAction>
        </Success>
        <Failure>
          <RNGAction chance="0.2">
            <Success>
              <GoTo name="start_jobboard_regular" />
            </Success>
            <Failure>
              <!-- End -->
            </Failure>
          </RNGAction>
        </Failure>
      </CheckDataAction>
      <StatusEffectAction targettag="potentialjobboard">
        <StatusEffect target="This" noninteractable="true" condition="-100" setvalue="true">
          <Sound file="Content/Items/Medical/ITEM_proteinBarOpen.ogg" range="500" volume="1.5" frequencymultiplier="0.7" />
        </StatusEffect>
      </StatusEffectAction>
      <Label name="end" />
    </ScriptedEvent>
    <!-- JOB BOARD - Habitation -->
    <ScriptedEvent identifier="jobboardhabitation" commonness="100">
      <WaitAction time="1" />
      <CheckReputationAction targettype="Location" condition="gt -20">
        <Failure>
          <Goto name="end" />
        </Failure>
      </CheckReputationAction>
      <TagAction criteria="itemidentifier:de-jobboard" tag="potentialjobboard" submarinetype="outpost" />
      <CheckDataAction identifier="jobboard_always" condition="true">
        <Success>
          <CheckDataAction identifier="jobboard_all_options" condition="true">
            <Success>
              <TriggerEventAction identifier="jobboardde" />
            </Success>
            <Failure>
              <Label name="start_jobboard_regular" />
              <CheckMissionAction MissionTag="outposttakeovermission" Type="Current">
                <Success>
                  <!-- End -->
                </Success>
                <Failure>
                  <TagAction criteria="player" tag="player" />
                  <SetDataAction identifier="jobboardempty" operation="set" value="0" />
                  <TriggerAction target1tag="potentialjobboard" target2tag="player" waitforinteraction="false" radius="500" />
                  <StatusEffectAction targettag="potentialjobboard">
                    <StatusEffect target="This" noninteractable="false" setvalue="true" disabledeltatime="true" />
                  </StatusEffectAction>
                  <Label name="waitforinput" />
                  <!-- The condition of CheckDataAction defines the amount of missions you can get from the job board -->
                  <CheckDataAction identifier="jobboardempty" condition="lt 1">
                    <Success>
                      <TriggerAction target1tag="potentialjobboard" target2tag="player" applytotarget2="jb_trig_player" waitforinteraction="true" />
                      <ConversationAction targettag="jb_trig_player" text="eventtext.jobboardde.interact" eventsprite="noticeboard" dialogtype="Regular">
                        <Option text="eventtext.jobboardde.option.monstermission">
                          <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.monstermission.info" eventsprite="noticeboard">
                            <Option text="eventtext.option.accept">
                              <ConversationAction text="eventtext.jobboardde.option.monstermission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                              <RNGAction chance="0.5">
                                <Success>
                                  <RNGAction chance="0.5">
                                    <Success>
                                      <RNGAction chance="0.5">
                                        <Success>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="killmolochblack" />
                                            </Success>
                                            <Failure>
                                              <MissionAction missionidentifier="killcrawlerbroodmother1" />
                                            </Failure>
                                          </RNGAction>
                                        </Success>
                                        <Failure>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="killcrawlerbroodmother1" />
                                            </Success>
                                            <Failure>
                                              <MissionAction missionidentifier="killhammerhead2" />
                                            </Failure>
                                          </RNGAction>
                                        </Failure>
                                      </RNGAction>
                                    </Success>
                                    <Failure>
                                      <RNGAction chance="0.5">
                                        <Success>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="killmatriarch1" />
                                            </Success>
                                            <Failure>
                                              <MissionAction missionidentifier="killgiantspineling1" />
                                            </Failure>
                                          </RNGAction>
                                        </Success>
                                        <Failure>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="killthresherswarm2" />
                                            </Success>
                                            <Failure></Failure>
                                            <MissionAction missionidentifier="killcrawlerswarm1huge" />
                                          </RNGAction>
                                        </Failure>
                                      </RNGAction>
                                    </Failure>
                                  </RNGAction>
                                </Success>
                                <Failure>
                                  <RNGAction chance="0.5">
                                    <Success>
                                      <RNGAction chance="0.5">
                                        <Success>
                                          <MissionAction missionidentifier="killcrawlerswarmlarge2" />
                                        </Success>
                                        <Failure>
                                          <MissionAction missionidentifier="killmudraptors1" />
                                        </Failure>
                                      </RNGAction>
                                    </Success>
                                    <Failure>
                                      <RNGAction chance="0.5">
                                        <Success>
                                          <MissionAction missionidentifier="killmudraptors2" />
                                        </Success>
                                        <Failure>
                                          <RNGAction chance="0.65">
                                            <Success>
                                              <MissionAction missionidentifier="killspinelingswarm1" />
                                            </Success>
                                            <Failure>
                                              <MissionAction missionidentifier="clearruin" />
                                            </Failure>
                                          </RNGAction>
                                        </Failure>
                                      </RNGAction>
                                    </Failure>
                                  </RNGAction>
                                </Failure>
                              </RNGAction>
                              <ClearTagAction tag="jb_trig_player" />
                              <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                              <GoTo name="waitforinput" />
                            </Option>
                            <Option text="eventtext.option.decline">
                              <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                              <ClearTagAction tag="jb_trig_player" />
                              <GoTo name="waitforinput" />
                            </Option>
                          </ConversationAction>
                        </Option>
                        <Option text="eventtext.jobboardde.option.salvagemission">
                          <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.salvagemission.info" eventsprite="noticeboard">
                            <Option text="eventtext.option.accept">
                              <ConversationAction text="eventtext.jobboardde.option.salvagemission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                              <RNGAction chance="0.75">
                                <Success>
                                  <RNGAction chance="0.65">
                                    <Success>
                                      <MissionAction missionidentifier="salvagewreck1" />
                                    </Success>
                                    <Failure>
                                      <MissionAction missionidentifier="salvageartifactcave" />
                                    </Failure>
                                  </RNGAction>
                                </Success>
                                <Failure>
                                  <MissionAction missionidentifier="salvageartifactruins" />
                                </Failure>
                              </RNGAction>
                              <ClearTagAction tag="jb_trig_player" />
                              <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                              <GoTo name="waitforinput" />
                            </Option>
                            <Option text="eventtext.option.decline">
                              <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                              <ClearTagAction tag="jb_trig_player" />
                              <GoTo name="waitforinput" />
                            </Option>
                          </ConversationAction>
                        </Option>
                        <Option text="eventtext.option.decline">
                          <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                          <ClearTagAction tag="jb_trig_player" />
                          <GoTo name="waitforinput" />
                        </Option>
                      </ConversationAction>
                    </Success>
                    <Failure>
                      <StatusEffectAction targettag="potentialjobboard">
                        <StatusEffect target="This" noninteractable="true" setvalue="true" disabledeltatime="true" />
                      </StatusEffectAction>
                    </Failure>
                  </CheckDataAction>
                </Failure>
              </CheckMissionAction>
            </Failure>
          </CheckDataAction>
        </Success>
        <Failure>
          <CheckDataAction identifier="jobboard_all_options" condition="true">
            <Success>
              <RNGAction chance="0.2">
                <Success>
                  <TriggerEventAction identifier="jobboardde" />
                </Success>
                <Failure>
                  <!-- End -->
                </Failure>
              </RNGAction>
            </Success>
            <Failure>
              <RNGAction chance="0.2">
                <Success>
                  <GoTo name="start_jobboard_regular" />
                </Success>
                <Failure>
                  <!-- End -->
                </Failure>
              </RNGAction>
            </Failure>
          </CheckDataAction>
        </Failure>
      </CheckDataAction>
      <StatusEffectAction targettag="potentialjobboard">
        <StatusEffect target="This" noninteractable="true" condition="-100" setvalue="true">
          <Sound file="Content/Items/Medical/ITEM_proteinBarOpen.ogg" range="500" volume="1.5" frequencymultiplier="0.7" />
        </StatusEffect>
      </StatusEffectAction>
      <Label name="end" />
    </ScriptedEvent>
    <!-- JOB BOARD - INDUSTRIAL -->
    <ScriptedEvent identifier="jobboardindustrial" commonness="100">
      <WaitAction time="1" />
      <CheckReputationAction targettype="Location" condition="gt -20">
        <Failure>
          <Goto name="end" />
        </Failure>
      </CheckReputationAction>
      <TagAction criteria="itemidentifier:de-jobboard" tag="potentialjobboard" submarinetype="outpost" />
      <CheckDataAction identifier="jobboard_always" condition="true">
        <Success>
          <CheckDataAction identifier="jobboard_all_options" condition="true">
            <Success>
              <TriggerEventAction identifier="jobboardde" />
            </Success>
            <Failure>
              <Label name="start_jobboard_regular" />
              <CheckMissionAction MissionTag="outposttakeovermission" Type="Current">
                <Success>
                  <!-- End -->
                </Success>
                <Failure>
                  <TagAction criteria="player" tag="player" />
                  <SetDataAction identifier="jobboardempty" operation="set" value="0" />
                  <TriggerAction target1tag="potentialjobboard" target2tag="player" waitforinteraction="false" radius="500" />
                  <StatusEffectAction targettag="potentialjobboard">
                    <StatusEffect target="This" noninteractable="false" setvalue="true" disabledeltatime="true" />
                  </StatusEffectAction>
                  <Label name="waitforinput" />
                  <!-- The condition of CheckDataAction defines the amount of missions you can get from the job board -->
                  <CheckDataAction identifier="jobboardempty" condition="lt 1">
                    <Success>
                      <TriggerAction target1tag="potentialjobboard" target2tag="player" applytotarget2="jb_trig_player" waitforinteraction="true" />
                      <ConversationAction targettag="jb_trig_player" text="eventtext.jobboardde.interact" eventsprite="noticeboard" dialogtype="Regular">
                        <Option text="eventtext.jobboardde.option.miningmission">
                          <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.miningmission.info" eventsprite="noticeboard">
                            <Option text="eventtext.option.accept">
                              <ConversationAction text="eventtext.jobboardde.option.miningmission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                              <RNGAction chance="0.5">
                                <Success>
                                  <RNGAction chance="0.5">
                                    <Success>
                                      <RNGAction chance="0.5">
                                        <Success>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="quartzcollection" />
                                            </Success>
                                            <Failure>
                                              <MissionAction missionidentifier="pyromorphitecollection" />
                                            </Failure>
                                          </RNGAction>
                                        </Success>
                                        <Failure>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="diamondcollection" />
                                            </Success>
                                            <Failure>
                                              <MissionAction missionidentifier="galenacollection" />
                                            </Failure>
                                          </RNGAction>
                                        </Failure>
                                      </RNGAction>
                                    </Success>
                                    <Failure>
                                      <RNGAction chance="0.5">
                                        <Success>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="uraniumcollection_small" />
                                            </Success>
                                            <Failure>
                                              <MissionAction missionidentifier="uraniumcollection" />
                                            </Failure>
                                          </RNGAction>
                                        </Success>
                                        <Failure>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="triphylitecollection" />
                                            </Success>
                                            <Failure></Failure>
                                            <MissionAction missionidentifier="langbeinitecollection" />
                                          </RNGAction>
                                        </Failure>
                                      </RNGAction>
                                    </Failure>
                                  </RNGAction>
                                </Success>
                                <Failure>
                                  <RNGAction chance="0.5">
                                    <Success>
                                      <RNGAction chance="0.5">
                                        <Success>
                                          <MissionAction missionidentifier="ilmenitechamositecollection" />
                                        </Success>
                                        <Failure>
                                          <MissionAction missionidentifier="thorianitecollection" />
                                        </Failure>
                                      </RNGAction>
                                    </Success>
                                    <Failure>
                                      <MissionAction missionidentifier="titanitecollection" />
                                    </Failure>
                                  </RNGAction>
                                </Failure>
                              </RNGAction>
                              <ClearTagAction tag="jb_trig_player" />
                              <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                              <GoTo name="waitforinput" />
                            </Option>
                            <Option text="eventtext.option.decline">
                              <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                              <ClearTagAction tag="jb_trig_player" />
                              <GoTo name="waitforinput" />
                            </Option>
                          </ConversationAction>
                        </Option>
                        <Option text="eventtext.jobboardde.option.cargomission">
                          <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.cargomission.info" eventsprite="noticeboard">
                            <Option text="eventtext.option.accept">
                              <ConversationAction text="eventtext.jobboardde.option.cargomission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                              <RNGAction chance="0.5">
                                <Success>
                                  <RNGAction chance="0.5">
                                    <Success>
                                      <RNGAction chance="0.5">
                                        <Success>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="cargocompoundn" />
                                            </Success>
                                            <Failure>
                                              <MissionAction missionidentifier="cargochemicals" />
                                            </Failure>
                                          </RNGAction>
                                        </Success>
                                        <Failure>
                                          <MissionAction missionidentifier="cargosecurityminerals" />
                                        </Failure>
                                      </RNGAction>
                                    </Success>
                                    <Failure>
                                      <MissionAction missionidentifier="cargonitroglycerin" />
                                    </Failure>
                                  </RNGAction>
                                </Success>
                                <Failure>
                                  <MissionAction missionidentifier="cargoconstructionminerals" />
                                </Failure>
                              </RNGAction>
                              <ClearTagAction tag="jb_trig_player" />
                              <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                              <GoTo name="waitforinput" />
                            </Option>
                            <Option text="eventtext.option.decline">
                              <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                              <ClearTagAction tag="jb_trig_player" />
                              <GoTo name="waitforinput" />
                            </Option>
                          </ConversationAction>
                        </Option>
                        <Option text="eventtext.option.decline">
                          <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                          <ClearTagAction tag="jb_trig_player" />
                          <GoTo name="waitforinput" />
                        </Option>
                      </ConversationAction>
                    </Success>
                    <Failure>
                      <StatusEffectAction targettag="potentialjobboard">
                        <StatusEffect target="This" noninteractable="true" setvalue="true" disabledeltatime="true" />
                      </StatusEffectAction>
                      <!-- End -->
                    </Failure>
                  </CheckDataAction>
                </Failure>
              </CheckMissionAction>
            </Failure>
          </CheckDataAction>
        </Success>
        <Failure>
          <CheckDataAction identifier="jobboard_all_options" condition="true">
            <Success>
              <RNGAction chance="0.2">
                <Success>
                  <TriggerEventAction identifier="jobboardde" />
                </Success>
                <Failure>
                  <!-- End -->
                </Failure>
              </RNGAction>
            </Success>
            <Failure>
              <RNGAction chance="0.2">
                <Success>
                  <GoTo name="start_jobboard_regular" />
                </Success>
                <Failure>
                  <!-- End -->
                </Failure>
              </RNGAction>
            </Failure>
          </CheckDataAction>
        </Failure>
      </CheckDataAction>
      <StatusEffectAction targettag="potentialjobboard">
        <StatusEffect target="This" noninteractable="true" condition="-100" setvalue="true">
          <Sound file="Content/Items/Medical/ITEM_proteinBarOpen.ogg" range="500" volume="1.5" frequencymultiplier="0.7" />
        </StatusEffect>
      </StatusEffectAction>
      <Label name="end" />
    </ScriptedEvent>
    <!-- JOB BOARD - Military -->
    <ScriptedEvent identifier="jobboardmilitary" commonness="100">
      <WaitAction time="1" />
      <CheckReputationAction targettype="Location" condition="gt -20">
        <Failure>
          <Goto name="end" />
        </Failure>
      </CheckReputationAction>
      <TagAction criteria="itemidentifier:de-jobboard" tag="potentialjobboard" submarinetype="outpost" />
      <CheckDataAction identifier="jobboard_always" condition="true">
        <Success>
          <CheckDataAction identifier="jobboard_all_options" condition="true">
            <Success>
              <TriggerEventAction identifier="jobboardde" />
            </Success>
            <Failure>
              <Label name="start_jobboard_regular" />
              <CheckMissionAction MissionTag="outposttakeovermission" Type="Current">
                <Success>
                  <!-- End -->
                </Success>
                <Failure>
                  <TagAction criteria="player" tag="player" />
                  <SetDataAction identifier="jobboardempty" operation="set" value="0" />
                  <TriggerAction target1tag="potentialjobboard" target2tag="player" waitforinteraction="false" radius="500" />
                  <StatusEffectAction targettag="potentialjobboard">
                    <StatusEffect target="This" noninteractable="false" setvalue="true" disabledeltatime="true" />
                  </StatusEffectAction>
                  <Label name="waitforinput" />
                  <!-- The condition of CheckDataAction defines the amount of missions you can get from the job board -->
                  <CheckDataAction identifier="jobboardempty" condition="lt 1">
                    <Success>
                      <TriggerAction target1tag="potentialjobboard" target2tag="player" applytotarget2="jb_trig_player" waitforinteraction="true" />
                      <ConversationAction targettag="jb_trig_player" text="eventtext.jobboardde.interact" eventsprite="noticeboard" dialogtype="Regular">
                        <Option text="eventtext.jobboardde.option.salvagemission">
                          <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.salvagemission.info" eventsprite="noticeboard">
                            <Option text="eventtext.option.accept">
                              <ConversationAction text="eventtext.jobboardde.option.salvagemission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                              <RNGAction chance="0.9">
                                <Success>
                                  <MissionAction missiontag="salvagewreck" />
                                  <ClearTagAction tag="jb_trig_player" />
                                  <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                                  <GoTo name="waitforinput" />
                                </Success>
                                <Failure>
                                  <MissionAction missiontag="salvageartifact" />
                                  <ClearTagAction tag="jb_trig_player" />
                                  <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                                  <GoTo name="waitforinput" />
                                </Failure>
                              </RNGAction>
                            </Option>
                            <Option text="eventtext.option.decline">
                              <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                              <ClearTagAction tag="jb_trig_player" />
                              <GoTo name="waitforinput" />
                            </Option>
                          </ConversationAction>
                        </Option>
                        <Option text="eventtext.jobboardde.option.monstermission">
                          <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.monstermission.info" eventsprite="noticeboard">
                            <Option text="eventtext.option.accept">
                              <ConversationAction text="eventtext.jobboardde.option.monstermission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                              <RNGAction chance="0.5">
                                <Success>
                                  <RNGAction chance="0.5">
                                    <Success>
                                      <RNGAction chance="0.5">
                                        <Success>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="killmolochblack" />
                                            </Success>
                                            <Failure>
                                              <MissionAction missionidentifier="killcrawlerbroodmother1" />
                                            </Failure>
                                          </RNGAction>
                                        </Success>
                                        <Failure>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="killcrawlerbroodmother1" />
                                            </Success>
                                            <Failure>
                                              <MissionAction missionidentifier="killhammerhead2" />
                                            </Failure>
                                          </RNGAction>
                                        </Failure>
                                      </RNGAction>
                                    </Success>
                                    <Failure>
                                      <RNGAction chance="0.5">
                                        <Success>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="killmatriarch1" />
                                            </Success>
                                            <Failure>
                                              <MissionAction missionidentifier="killgiantspineling1" />
                                            </Failure>
                                          </RNGAction>
                                        </Success>
                                        <Failure>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="killthresherswarm2" />
                                            </Success>
                                            <Failure></Failure>
                                            <MissionAction missionidentifier="killcrawlerswarm1huge" />
                                          </RNGAction>
                                        </Failure>
                                      </RNGAction>
                                    </Failure>
                                  </RNGAction>
                                </Success>
                                <Failure>
                                  <RNGAction chance="0.5">
                                    <Success>
                                      <RNGAction chance="0.5">
                                        <Success>
                                          <MissionAction missionidentifier="killcrawlerswarmlarge2" />
                                        </Success>
                                        <Failure>
                                          <MissionAction missionidentifier="killmudraptors1" />
                                        </Failure>
                                      </RNGAction>
                                    </Success>
                                    <Failure>
                                      <RNGAction chance="0.5">
                                        <Success>
                                          <MissionAction missionidentifier="killmudraptors2" />
                                        </Success>
                                        <Failure>
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="killspinelingswarm1" />
                                            </Success>
                                            <Failure>
                                              <MissionAction missionidentifier="clearruin" />
                                            </Failure>
                                          </RNGAction>
                                        </Failure>
                                      </RNGAction>
                                    </Failure>
                                  </RNGAction>
                                </Failure>
                              </RNGAction>
                              <ClearTagAction tag="jb_trig_player" />
                              <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                              <GoTo name="waitforinput" />
                            </Option>
                            <Option text="eventtext.option.decline">
                              <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                              <ClearTagAction tag="jb_trig_player" />
                              <GoTo name="waitforinput" />
                            </Option>
                          </ConversationAction>
                        </Option>
                        <Option text="eventtext.option.decline">
                          <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                          <ClearTagAction tag="jb_trig_player" />
                          <GoTo name="waitforinput" />
                        </Option>
                      </ConversationAction>
                    </Success>
                    <Failure>
                      <StatusEffectAction targettag="potentialjobboard">
                        <StatusEffect target="This" noninteractable="true" setvalue="true" disabledeltatime="true" />
                      </StatusEffectAction>
                    </Failure>
                  </CheckDataAction>
                </Failure>
              </CheckMissionAction>
            </Failure>
          </CheckDataAction>
        </Success>
        <Failure>
          <CheckDataAction identifier="jobboard_all_options" condition="true">
            <Success>
              <RNGAction chance="0.2">
                <Success>
                  <TriggerEventAction identifier="jobboardde" />
                </Success>
                <Failure>
                  <!-- End -->
                </Failure>
              </RNGAction>
            </Success>
            <Failure>
              <RNGAction chance="0.2">
                <Success>
                  <GoTo name="start_jobboard_regular" />
                </Success>
                <Failure>
                  <!-- End -->
                </Failure>
              </RNGAction>
            </Failure>
          </CheckDataAction>
        </Failure>
      </CheckDataAction>
      <StatusEffectAction targettag="potentialjobboard">
        <StatusEffect target="This" noninteractable="true" condition="-100" setvalue="true">
          <Sound file="Content/Items/Medical/ITEM_proteinBarOpen.ogg" range="500" volume="1.5" frequencymultiplier="0.7" />
        </StatusEffect>
      </StatusEffectAction>
      <Label name="end" />
    </ScriptedEvent>
    <!-- JOB BOARD - Research -->
    <ScriptedEvent identifier="jobboardresearch" commonness="100">
      <WaitAction time="1" />
      <CheckReputationAction targettype="Location" condition="gt -20">
        <Failure>
          <Goto name="end" />
        </Failure>
      </CheckReputationAction>
      <TagAction criteria="itemidentifier:de-jobboard" tag="potentialjobboard" submarinetype="outpost" />
      <CheckDataAction identifier="jobboard_always" condition="true">
        <Success>
          <CheckDataAction identifier="jobboard_all_options" condition="true">
            <Success>
              <TriggerEventAction identifier="jobboardde" />
            </Success>
            <Failure>
              <Label name="start_jobboard_regular" />
              <CheckMissionAction MissionTag="outposttakeovermission" Type="Current">
                <Success>
                  <!-- End -->
                </Success>
                <Failure>
                  <TagAction criteria="player" tag="player" />
                  <SetDataAction identifier="jobboardempty" operation="set" value="0" />
                  <TriggerAction target1tag="potentialjobboard" target2tag="player" waitforinteraction="false" radius="500" />
                  <StatusEffectAction targettag="potentialjobboard">
                    <StatusEffect target="This" noninteractable="false" setvalue="true" disabledeltatime="true" />
                  </StatusEffectAction>
                  <Label name="waitforinput" />
                  <!-- The condition of CheckDataAction defines the amount of missions you can get from the job board -->
                  <CheckDataAction identifier="jobboardempty" condition="lt 1">
                    <Success>
                      <TriggerAction target1tag="potentialjobboard" target2tag="player" applytotarget2="jb_trig_player" waitforinteraction="true" />
                      <ConversationAction targettag="jb_trig_player" text="eventtext.jobboardde.interact" eventsprite="noticeboard" dialogtype="Regular">
                        <Option text="eventtext.jobboardde.option.salvagemission">
                          <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.salvagemission.info" eventsprite="noticeboard">
                            <Option text="eventtext.option.accept">
                              <ConversationAction text="eventtext.jobboardde.option.salvagemission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                              <RNGAction chance="0.5">
                                <Success>
                                  <RNGAction chance="0.35">
                                    <Success>
                                      <MissionAction missionidentifier="salvagewreck1" />
                                    </Success>
                                    <Failure>
                                      <MissionAction missionidentifier="salvageartifactcave" />
                                    </Failure>
                                  </RNGAction>
                                </Success>
                                <Failure>
                                  <MissionAction missionidentifier="salvageartifactruins" />
                                </Failure>
                              </RNGAction>
                              <ClearTagAction tag="jb_trig_player" />
                              <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                              <GoTo name="waitforinput" />
                            </Option>
                            <Option text="eventtext.option.decline">
                              <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                              <ClearTagAction tag="jb_trig_player" />
                              <GoTo name="waitforinput" />
                            </Option>
                          </ConversationAction>
                        </Option>
                        <Option text="eventtext.jobboardde.option.cargomission">
                          <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.cargomission.info" eventsprite="noticeboard">
                            <Option text="eventtext.option.accept">
                              <ConversationAction text="eventtext.jobboardde.option.cargomission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                              <RNGAction chance="0.5">
                                <Success>
                                  <MissionAction missionidentifier="cargohuskeggs" />
                                </Success>
                                <Failure>
                                  <MissionAction missionidentifier="cargonitroglycerin" />
                                </Failure>
                              </RNGAction>
                              <ClearTagAction tag="jb_trig_player" />
                              <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                              <GoTo name="waitforinput" />
                            </Option>
                            <Option text="eventtext.option.decline">
                              <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                              <ClearTagAction tag="jb_trig_player" />
                              <GoTo name="waitforinput" />
                            </Option>
                          </ConversationAction>
                        </Option>
                        <Option text="eventtext.jobboardde.option.monstermission">
                          <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.monstermission.info" eventsprite="noticeboard">
                            <Option text="eventtext.option.accept">
                              <ConversationAction text="eventtext.jobboardde.option.monstermission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                              <MissionAction missionidentifier="clearruin" />
                              <ClearTagAction tag="jb_trig_player" />
                              <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                              <GoTo name="waitforinput" />
                            </Option>
                            <Option text="eventtext.option.decline">
                              <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                              <ClearTagAction tag="jb_trig_player" />
                              <GoTo name="waitforinput" />
                            </Option>
                          </ConversationAction>
                        </Option>
                        <Option text="eventtext.option.decline">
                          <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                          <ClearTagAction tag="jb_trig_player" />
                          <GoTo name="waitforinput" />
                        </Option>
                      </ConversationAction>
                    </Success>
                    <Failure>
                      <StatusEffectAction targettag="potentialjobboard">
                        <StatusEffect target="This" noninteractable="true" setvalue="true" disabledeltatime="true" />
                      </StatusEffectAction>
                    </Failure>
                  </CheckDataAction>
                </Failure>
              </CheckMissionAction>
            </Failure>
          </CheckDataAction>
        </Success>
        <Failure>
          <CheckDataAction identifier="jobboard_all_options" condition="true">
            <Success>
              <RNGAction chance="0.2">
                <Success>
                  <TriggerEventAction identifier="jobboardde" />
                </Success>
                <Failure>
                  <!-- End -->
                </Failure>
              </RNGAction>
            </Success>
            <Failure>
              <RNGAction chance="0.2">
                <Success>
                  <GoTo name="start_jobboard_regular" />
                </Success>
                <Failure>
                  <!-- End -->
                </Failure>
              </RNGAction>
            </Failure>
          </CheckDataAction>
        </Failure>
      </CheckDataAction>
      <StatusEffectAction targettag="potentialjobboard">
        <StatusEffect target="This" noninteractable="true" condition="-100" setvalue="true">
          <Sound file="Content/Items/Medical/ITEM_proteinBarOpen.ogg" range="500" volume="1.5" frequencymultiplier="0.7" />
        </StatusEffect>
      </StatusEffectAction>
      <Label name="end" />
    </ScriptedEvent>
    <!-- I am VERY confused about all those jobboardpicked things that only exist here -->
    <!-- JOB BOARD - Medical -->
    <ScriptedEvent identifier="jobboardmedical" commonness="100">
      <WaitAction time="1" />
      <CheckReputationAction targettype="Location" condition="gt -20">
        <Failure>
          <Goto name="end" />
        </Failure>
      </CheckReputationAction>
      <TagAction criteria="itemidentifier:de-jobboard" tag="potentialjobboard" submarinetype="outpost" />
      <CheckDataAction identifier="jobboard_always" condition="true">
        <Success>
          <CheckDataAction identifier="jobboard_all_options" condition="true">
            <Success>
              <TriggerEventAction identifier="jobboardde" />
            </Success>
            <Failure>
              <Label name="start_jobboard_regular" />
              <CheckMissionAction MissionTag="outposttakeovermission" Type="Current">
                <Success>
                  <!-- End -->
                </Success>
                <Failure>
                  <TagAction criteria="player" tag="player" />
                  <SetDataAction identifier="jobboardpicked1" operation="set" value="0" />
                  <SetDataAction identifier="jobboardpicked2" operation="set" value="0" />
                  <SetDataAction identifier="jobboardpicked3" operation="set" value="0" />
                  <SetDataAction identifier="jobboardempty" operation="set" value="0" />
                  <TriggerAction target1tag="potentialjobboard" target2tag="player" waitforinteraction="false" radius="500" />
                  <StatusEffectAction targettag="potentialjobboard">
                    <StatusEffect target="This" noninteractable="false" setvalue="true" disabledeltatime="true" />
                  </StatusEffectAction>
                  <Label name="waitforinput" />
                  <!-- The condition of CheckDataAction defines the amount of missions you can get from the job board -->
                  <CheckDataAction identifier="jobboardempty" condition="lt 1">
                    <Success>
                      <TriggerAction target1tag="potentialjobboard" target2tag="player" applytotarget2="jb_trig_player" waitforinteraction="true" />
                      <ConversationAction targettag="jb_trig_player" text="eventtext.jobboardde.interact" eventsprite="noticeboard" dialogtype="Regular">
                        <Option text="eventtext.jobboardde.option.cargomission">
                          <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.cargomission.info" eventsprite="noticeboard">
                            <Option text="eventtext.option.accept">
                              <ConversationAction text="eventtext.jobboardde.option.cargomission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                              <RNGAction chance="0.5">
                                <Success>
                                  <RNGAction chance="0.6">
                                    <Success>
                                      <MissionAction missionidentifier="cargomeditems" />
                                      <SetDataAction identifier="jobboardpicked1" operation="set" value="1" />
                                    </Success>
                                    <Failure>
                                      <MissionAction missionidentifier="cargomedemergency" />
                                      <SetDataAction identifier="jobboardpicked2" operation="set" value="1" />
                                    </Failure>
                                  </RNGAction>
                                </Success>
                                <Failure>
                                  <MissionAction missionidentifier="cargochemicals" />
                                  <SetDataAction identifier="jobboardpicked3" operation="set" value="1" />
                                </Failure>
                              </RNGAction>
                              <ClearTagAction tag="jb_trig_player" />
                              <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                              <GoTo name="waitforinput" />
                            </Option>
                            <Option text="eventtext.option.decline">
                              <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                              <ClearTagAction tag="jb_trig_player" />
                              <GoTo name="waitforinput" />
                            </Option>
                          </ConversationAction>
                        </Option>
                        <Option text="eventtext.option.decline">
                          <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                          <ClearTagAction tag="jb_trig_player" />
                          <GoTo name="waitforinput" />
                        </Option>
                      </ConversationAction>
                    </Success>
                    <Failure>
                      <CheckDataAction identifier="jobboardempty" condition="lt 2">
                        <Success>
                          <TriggerAction target1tag="potentialjobboard" target2tag="player" applytotarget2="jb_trig_player" waitforinteraction="true" />
                          <CheckDataAction identifier="jobboardpicked1" condition="eq 1">
                            <Success>
                              <ConversationAction targettag="jb_trig_player" text="eventtext.jobboardde.interact" eventsprite="noticeboard" dialogtype="Regular">
                                <Option text="eventtext.jobboardde.option.cargomission">
                                  <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.cargomission.info" eventsprite="noticeboard">
                                    <Option text="eventtext.option.accept">
                                      <ConversationAction text="eventtext.jobboardde.option.cargomission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                                      <RNGAction chance="0.5">
                                        <Success>
                                          <MissionAction missionidentifier="cargochemicals" />
                                        </Success>
                                        <Failure>
                                          <MissionAction missionidentifier="cargomedemergency" />
                                        </Failure>
                                      </RNGAction>
                                      <ClearTagAction tag="jb_trig_player" />
                                      <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                                      <GoTo name="waitforinput" />
                                    </Option>
                                    <Option text="eventtext.option.decline">
                                      <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                                      <ClearTagAction tag="jb_trig_player" />
                                      <GoTo name="waitforinput" />
                                    </Option>
                                  </ConversationAction>
                                </Option>
                                <Option text="eventtext.option.decline">
                                  <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                                  <ClearTagAction tag="jb_trig_player" />
                                  <GoTo name="waitforinput" />
                                </Option>
                              </ConversationAction>
                            </Success>
                            <Failure>
                              <CheckDataAction identifier="jobboardpicked2" condition="eq 1">
                                <Success>
                                  <ConversationAction targettag="jb_trig_player" text="eventtext.jobboardde.interact" eventsprite="noticeboard" dialogtype="Regular">
                                    <Option text="eventtext.jobboardde.option.cargomission">
                                      <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.cargomission.info" eventsprite="noticeboard">
                                        <Option text="eventtext.option.accept">
                                          <ConversationAction text="eventtext.jobboardde.option.cargomission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                                          <RNGAction chance="0.5">
                                            <Success>
                                              <MissionAction missionidentifier="cargochemicals" />
                                            </Success>
                                            <Failure>
                                              <MissionAction missionidentifier="cargomeditems" />
                                            </Failure>
                                          </RNGAction>
                                          <ClearTagAction tag="jb_trig_player" />
                                          <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                                          <GoTo name="waitforinput" />
                                        </Option>
                                        <Option text="eventtext.option.decline">
                                          <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                                          <ClearTagAction tag="jb_trig_player" />
                                          <GoTo name="waitforinput" />
                                        </Option>
                                      </ConversationAction>
                                    </Option>
                                    <Option text="eventtext.option.decline">
                                      <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                                      <ClearTagAction tag="jb_trig_player" />
                                      <GoTo name="waitforinput" />
                                    </Option>
                                  </ConversationAction>
                                </Success>
                                <Failure>
                                  <CheckDataAction identifier="jobboardpicked3" condition="eq 1">
                                    <Success>
                                      <ConversationAction targettag="jb_trig_player" text="eventtext.jobboardde.interact" eventsprite="noticeboard" dialogtype="Regular">
                                        <Option text="eventtext.jobboardde.option.cargomission">
                                          <ConversationAction targettag="jb_trig_player" dialogtype="Small" text="eventtext.jobboardde.option.cargomission.info" eventsprite="noticeboard">
                                            <Option text="eventtext.option.accept">
                                              <ConversationAction text="eventtext.jobboardde.option.cargomission.accept" dialogtype="Small" targettag="jb_trig_player" eventsprite="noticeboard" />
                                              <RNGAction chance="0.5">
                                                <Success>
                                                  <MissionAction missionidentifier="cargomedemergency" />
                                                </Success>
                                                <Failure>
                                                  <MissionAction missionidentifier="cargomeditems" />
                                                </Failure>
                                              </RNGAction>
                                              <ClearTagAction tag="jb_trig_player" />
                                              <SetDataAction identifier="jobboardempty" operation="add" value="1" />
                                              <GoTo name="waitforinput" />
                                            </Option>
                                            <Option text="eventtext.option.decline">
                                              <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                                              <ClearTagAction tag="jb_trig_player" />
                                              <GoTo name="waitforinput" />
                                            </Option>
                                          </ConversationAction>
                                        </Option>
                                        <Option text="eventtext.option.decline">
                                          <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
                                          <ClearTagAction tag="jb_trig_player" />
                                          <GoTo name="waitforinput" />
                                        </Option>
                                      </ConversationAction>
                                    </Success>
                                    <Failure></Failure>
                                  </CheckDataAction>
                                </Failure>
                              </CheckDataAction>
                            </Failure>
                          </CheckDataAction>
                        </Success>
                        <Failure>
                          <StatusEffectAction targettag="potentialjobboard">
                            <StatusEffect target="This" noninteractable="true" setvalue="true" disabledeltatime="true" />
                          </StatusEffectAction>
                        </Failure>
                      </CheckDataAction>
                    </Failure>
                  </CheckDataAction>
                </Failure>
              </CheckMissionAction>
            </Failure>
          </CheckDataAction>
        </Success>
        <Failure>
          <CheckDataAction identifier="jobboard_all_options" condition="true">
            <Success>
              <RNGAction chance="0.2">
                <Success>
                  <TriggerEventAction identifier="jobboardde" />
                </Success>
                <Failure>
                  <!-- End -->
                </Failure>
              </RNGAction>
            </Success>
            <Failure>
              <RNGAction chance="0.2">
                <Success>
                  <GoTo name="start_jobboard_regular" />
                </Success>
                <Failure>
                  <!-- End -->
                </Failure>
              </RNGAction>
            </Failure>
          </CheckDataAction>
        </Failure>
      </CheckDataAction>
      <StatusEffectAction targettag="potentialjobboard">
        <StatusEffect target="This" noninteractable="true" condition="-100" setvalue="true">
          <Sound file="Content/Items/Medical/ITEM_proteinBarOpen.ogg" range="500" volume="1.5" frequencymultiplier="0.7" />
        </StatusEffect>
      </StatusEffectAction>
      <Label name="end" />
    </ScriptedEvent>
    <ScriptedEvent identifier="surveymissions" commonness="100">
      <WaitAction time="1" />
      <CheckReputationAction targettype="Location" condition="gt -20">
        <Failure>
          <Goto name="end" />
        </Failure>
      </CheckReputationAction>
      <TagAction criteria="player" tag="player" />
      <TagAction criteria="itemidentifier:sonarmonitor" tag="surveymonitor" submarinetype="outpost" />
      <SetDataAction identifier="surveymissioncount" operation="set" value="0" />
      <Label name="waitforinput" />
      <!-- The condition of CheckDataAction defines the amount of missions you can get from the job board -->
      <CheckDataAction identifier="surveymissioncount" condition="lt 1">
        <Success>
          <TriggerAction target1tag="surveymonitor" target2tag="player" applytotarget2="jb_trig_player" waitforinteraction="true" />
          <ConversationAction targettag="jb_trig_player" text="eventtext.survey.interact" eventsprite="sonar" dialogtype="Regular">
            <Option text="eventtext.survey.payup">
              <CheckMoneyAction Amount="1000">
                <Success>
                  <MoneyAction amount="-1000" />
                  <ConversationAction text="eventtext.survey.givemissions" dialogtype="Small" targettag="jb_trig_player" eventsprite="sonar" />
                  <MissionAction missiontag="surveycollectminerals" />
                  <MissionAction missiontag="surveycollectminerals" />
                  <MissionAction missiontag="surveycollectminerals" />
                  <ClearTagAction tag="jb_trig_player" />
                  <SetDataAction identifier="surveymissioncount" operation="add" value="1" />
                </Success>
                <Failure>
                  <ConversationAction text="eventtext.survey.nomoney" />
                  <GoTo name="waitforinput" />
                </Failure>
              </CheckMoneyAction>
            </Option>
            <Option text="eventtext.option.decline">
              <ConversationAction text="eventtext.general.decline" dialogtype="Small" targettag="jb_trig_player" />
              <ClearTagAction tag="jb_trig_player" />
              <GoTo name="waitforinput" />
            </Option>
          </ConversationAction>
        </Success>
        <Failure>
          <!-- End -->
        </Failure>
      </CheckDataAction>
      <Label name="end" />
    </ScriptedEvent>
  </EventPrefabs>
</Randomevents>