<?xml version="1.0" encoding="utf-8"?>
<Override>
  <Items>
    <Item name="" HideConditionBar="true" identifier="rifle" category="Weapon" cargocontaineridentifier="metalcrate" tags="mediumitem,weapon,gun,gunsmith,provocativetohumanai,mountableweapon,rifle" Scale="0.5" impactsoundtag="impact_metal_light">
      <PreferredContainer primary="secarmcab" amount="1" spawnprobability="1" notcampaign="true" notpvp="true" />
      <PreferredContainer secondary="outpostsecarmcab" amount="1" spawnprobability="0.5" />
      <PreferredContainer secondary="wrecksecarmcab,abandonedsecarmcab,piratesecarmcab" amount="1" spawnprobability="0.2" />
      <PreferredContainer secondary="wreckweaponholder" amount="1" spawnprobability="0.03" />
      <PreferredContainer secondary="armcab" />
      <Price baseprice="500" minleveldifficulty="15">
        <Price storeidentifier="merchantoutpost" sold="false" multiplier="1.5" />
        <Price storeidentifier="merchantcity" multiplier="1.25" minavailable="1" sold="false" />
        <Price storeidentifier="merchantresearch" sold="false" multiplier="1.25" />
        <Price storeidentifier="merchantmilitary" multiplier="0.9" minavailable="3" />
        <Price storeidentifier="merchantmine" sold="false" multiplier="1.25" />
        <Price storeidentifier="merchantarmory" multiplier="0.9" minavailable="3" />
      </Price>
      <Deconstruct time="10">
        <Item identifier="steel" />
        <Item identifier="titaniumaluminiumalloy" />
        <Item identifier="plastic" />
      </Deconstruct>
      <Fabricate suitablefabricators="fabricator" requiredtime="60" requiresrecipe="true">
        <RequiredSkill identifier="weapons" level="55" />
        <RequiredItem identifier="steel" amount="2" />
        <RequiredItem identifier="titaniumaluminiumalloy" amount="2" />
        <RequiredItem identifier="plastic" amount="2" />
      </Fabricate>
      <InventoryIcon texture="%ModDir%/Rifle/Rifle.png" sourcerect="0,0,200,54" depth="0.55" origin="0.5,0.5" />
      <Sprite texture="%ModDir%/Rifle/Rifle.png" sourcerect="0,0,200,54" depth="0.55" origin="0.32,0.18" />
      <!-- Broken sprite used for animation via changing gun's condition. -->
      <BrokenSprite texture="%ModDir%/Rifle/Rifle.png" sourcerect="0,54,200,54" depth="0.55" origin="0.32,0.18" maxcondition="50" />
      <!-- Default sprite at 0 condition to 'break' the weapon mid reloading without making it look awful. -->
      <BrokenSprite texture="%ModDir%/Rifle/Rifle.png" sourcerect="0,0,200,54" depth="0.55" origin="0.32,0.18" maxcondition="0" />
      <Body width="190" height="50" density="25" />
      <ItemComponent characterusable="true">
        <!-- define this here, because it won't work in RangedWeapon:
      the grenade has been fired and is no longer in the container when OnUse executes. -->
        <StatusEffect type="OnUse" target="This">
          <RequiredItem items="grenade" type="Contained" />
          <Sound file="Content/Items/Weapons/WEAPON_rifleGrenadeShot1.ogg" type="OnUse" range="1000" selectionmode="Random" />
          <Sound file="Content/Items/Weapons/WEAPON_rifleGrenadeShot2.ogg" type="OnUse" range="1000" />
          <Sound file="Content/Items/Weapons/WEAPON_rifleGrenadeShot3.ogg" type="OnUse" range="1000" />
        </StatusEffect>
      </ItemComponent>
      <Holdable slots="Any,RightHand+LeftHand" controlpose="true" holdpos="20,-10" aimpos="27,0" handle1="0,-19" handle2="60,-5" holdangle="-30" msg="ItemMsgPickUpSelect" SpeedMultiplier="1.1">
        <StatusEffect type="OnSecondaryUse" target="This" tags="suppressed" duration="0.05" setvalue="true">
          <RequiredItem items="longSilencerMuzzleVGM,shortSilencerMuzzleVGM" type="Contained" />
        </StatusEffect>
        <!-- 扫描器逻辑 -->
        <StatusEffect type="OnSecondaryUse" target="This" tags="aiming" drawhudwhenequipped="true" range="500" showdeadcharacters="true" showtexts="true" overlaycolor="72,119,72,120" setvalue="true" TargetItemComponent="StatusHUD" duration="0.5" interval="0.4">
          <RequiredItem items="healthScannerVGM" type="Contained" />
        </StatusEffect>
        <StatusEffect type="OnSecondaryUse" target="This" tags="aiming" drawhudwhenequipped="true" thermalgoggles="true" showdeadcharacters="false" showtexts="false" overlaycolor="176,0,0,120" range="3000" TargetItemComponent="StatusHUD" duration="0.5" interval="0.4">
          <RequiredItem items="thermalScannerVGM" type="Contained" />
        </StatusEffect>
        <StatusEffect type="OnActive" target="This" drawhudwhenequipped="false" showdeadcharacters="false" showtexts="false" setvalue="true" interval="1.0" TargetItemComponent="StatusHUD">
          <Conditional HasStatusTag="neq aiming" />
        </StatusEffect>
      </Holdable>
      <!-- Surprise surprise! If you are below the reload skill requirement, your reloading will not take 7 seconds!
	How it works is, at 0 skill you get full unskilled reload, but the closer you are to the requirement, the faster the reloading speed,
	until it eventually reaches skilled reloading time at the requirement and higher.
	Just leaving it here in case I forget. -->
      <!-- Mummmm... OK,ma'am-->
      <StatusHUD drawhudwhenequipped="false" overlaycolor="176,0,0,120" range="3000" thermalgoggles="false" showdeadcharacters="false" showtexts="false" />
      <RangedWeapon launchimpulse="-10.0" barrelpos="130,0" spread="2" unskilledspread="4" combatPriority="70" reload="2" reloadnoskill="7" reloadskillrequirement="50" drawhudwhenequipped="true" crosshairscale="0.15">
        <!-- Crosshairs. -->
        <Crosshair texture="Content/Items/Weapons/Crosshairs.png" sourcerect="0,256,256,256" />
        <CrosshairPointer texture="Content/Items/Weapons/Crosshairs.png" sourcerect="256,256,256,256" />
        <!-- Particles. -->
        <!-- Visible only on air. -->
        <ParticleEmitter particle="mediummuzzleflash" particleamount="1" />
        <ParticleEmitter particle="muzzlelight" particleamount="1" scalemultiplier="4,2" colormultiplier="255,255,100,175" CopyEntityAngle="true" />
        <ParticleEmitter particle="muzzlelight" particleamount="1" scalemultiplier="10,8" colormultiplier="215,215,215,100" CopyEntityAngle="true" />
        <ParticleEmitter particle="mediumgunsmoke" particleamount="1" />
        <!-- Visible only inside water. -->
        <ParticleEmitter particle="underwatermuzzle" particleamount="1" velocitymin="0" velocitymax="0" scalemultiplier="1.5,1.5" />
        <ParticleEmitter particle="muzzlebubbles" particleamount="6" anglemin="30" anglemax="80" velocitymin="20" velocitymax="50" />
        <ParticleEmitter particle="gunbubbles" particleamount="12" anglemin="170" anglemax="180" velocitymin="10" velocitymax="20" distancemin="0" distancemax="90" />
        <!-- Gunfire sounds. -->
        <StatusEffect type="OnUse" target="This" stackable="false" disabledeltatime="true" forceplaysounds="true">
          <Sound file="Content/Items/Weapons/WEAPON_rifleShot1.ogg" type="OnUse" range="3000" selectionmode="Random" />
          <Sound file="Content/Items/Weapons/WEAPON_rifleShot2.ogg" type="OnUse" range="3000" />
          <Sound file="Content/Items/Weapons/WEAPON_rifleShot3.ogg" type="OnUse" range="3000" />
          <Conditional HasStatusTag="neq suppressed" />
        </StatusEffect>
        <StatusEffect type="OnUse" target="This" stackable="false" disabledeltatime="true" forceplaysounds="true">
          <Sound file="%ModDir%/Sounds/weapon_fire_suppressed_1.ogg" type="OnUse" range="3000" selectionmode="Random" />
          <Sound file="%ModDir%/Sounds/weapon_fire_suppressed_2.ogg" type="OnUse" range="3000" />
          <Sound file="%ModDir%/Sounds/weapon_fire_suppressed_3.ogg" type="OnUse" range="3000" />
          <Sound file="%ModDir%/Sounds/weapon_fire_suppressed_4.ogg" type="OnUse" range="3000" />
          <Sound file="%ModDir%/Sounds/weapon_fire_suppressed_5.ogg" type="OnUse" range="3000" />
          <Conditional HasStatusTag="suppressed" />
        </StatusEffect>
        <!-- Unskilled high recoil. -->
        <StatusEffect type="OnUse" target="This" offset="0,-5">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
          <Explosion range="150.0" force="3" shockwave="false" smoke="false" flames="false" sparks="false" underwaterbubble="false" flash="false" applyfireeffects="false" camerashake="17.0" />
        </StatusEffect>
        <!-- Skilled low recoil. -->
        <StatusEffect type="OnUse" target="This" offset="0,-5">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
          <Explosion range="150.0" force="1.5" shockwave="false" smoke="false" flames="false" sparks="false" underwaterbubble="false" flash="false" applyfireeffects="false" camerashake="6.0" />
        </StatusEffect>
        <!-- On fire, sets the light component's transparency to 255 and then back to 0.
      Why? Simply turning the light on and off is too slow. -->
        <StatusEffect type="OnUse" targetitemcomponent="LightComponent" target="This" lightcolor="255,255,75,255" setvalue="true" />
        <StatusEffect type="OnUse" targetitemcomponent="LightComponent" target="This" lightcolor="255,255,75,0" setvalue="true" delay="0.115" />
        <!-- Plays if  the skill requirement is less than 20. -->
        <!-- Sets the gun's and hand's position. -->
        <StatusEffect type="OnUse" target="This" holdpos="40,-30" aimpos="35,-15" delay="0.7" handle2="-5,-10" holdangle="-20" aimangle="-20" setvalue="true">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 20" />
        </StatusEffect>
        <!-- Sets the gun's position to reloading. -->
        <StatusEffect type="OnUse" target="This" holdpos="30,-10" aimpos="25,5" delay="1.7" holdangle="30" aimangle="30" setvalue="true">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 20" />
        </StatusEffect>
        <!-- Sets the hand to open eject port position. -->
        <StatusEffect type="OnUse" target="This" delay="2.2" handle2="-20,0" setvalue="true" forceplaysounds="true">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 20" />
          <Sound file="%ModDir%/Rifle/RifleEjectPortOpen.ogg" type="OnUse" range="1000" />
        </StatusEffect>
        <!-- Mid-status effect animation. -->
        <StatusEffect type="OnUse" target="This" delay="2.3" condition="50" setvalue="true">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 20" />
          <ParticleEmitter particle="rifleammocasing" particleamount="1" anglemin="90" anglemax="150" velocitymin="50" velocitymax="250" CopyEntityAngle="true" />
          <ParticleEmitter particle="gunbubbles" particleamount="3" anglemin="180" anglemax="200" velocitymin="10" velocitymax="20" distancemin="0" distancemax="10" />
        </StatusEffect>
        <!-- Sets the gun's position. -->
        <StatusEffect type="OnUse" target="This" delay="3.3" holdpos="40,-20" aimpos="35,-5" holdangle="-10" aimangle="-10" setvalue="true">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 20" />
        </StatusEffect>
        <!-- Sets the hand back. -->
        <StatusEffect type="OnUse" target="This" delay="3.5" handle2="-5,-10" setvalue="true" forceplaysounds="true">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 20" />
          <Sound file="%ModDir%/Rifle/RifleEjectPortClose.ogg" type="OnUse" range="1000" />
        </StatusEffect>
        <!-- Mid-status effect animation. -->
        <StatusEffect type="OnUse" target="This" delay="3.7" condition="100" setvalue="true">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 20" />
        </StatusEffect>
        <!-- Sets the gun's and hand's position back to default. -->
        <StatusEffect type="OnUse" target="This" delay="4.5" holdpos="20,-10" aimpos="27,0" handle2="55,-5" holdangle="-30" aimangle="0" setvalue="true">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 20" />
        </StatusEffect>
        <!-- Plays if  the skill requirement is higher than 20 but less than 40. -->
        <!-- Sets the gun's and hand's position. -->
        <StatusEffect type="OnUse" target="This" holdpos="20,-10" aimpos="25,5" delay="0.7" handle2="-5,-10" holdangle="30" aimangle="30" setvalue="true" comparison="and">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 20" />
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
        </StatusEffect>
        <!-- Sets the hand to open eject port position. -->
        <StatusEffect type="OnUse" target="This" delay="1.2" handle2="-20,0" setvalue="true" forceplaysounds="true" comparison="and">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 20" />
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
          <Sound file="%ModDir%/Rifle/RifleEjectPortOpen.ogg" type="OnUse" range="1000" />
        </StatusEffect>
        <!-- Mid-status effect animation. -->
        <StatusEffect type="OnUse" target="This" delay="1.3" condition="50" setvalue="true" comparison="and">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 20" />
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
          <ParticleEmitter particle="rifleammocasing" particleamount="1" anglemin="90" anglemax="150" velocitymin="50" velocitymax="250" CopyEntityAngle="true" />
          <ParticleEmitter particle="gunbubbles" particleamount="3" anglemin="180" anglemax="200" velocitymin="10" velocitymax="20" distancemin="0" distancemax="10" />
        </StatusEffect>
        <!-- Sets the gun's position. -->
        <StatusEffect type="OnUse" target="This" delay="1.8" holdpos="30,-20" aimpos="35,-5" holdangle="-10" aimangle="-10" setvalue="true" comparison="and">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 20" />
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
        </StatusEffect>
        <!-- Sets the hand back. -->
        <StatusEffect type="OnUse" target="This" delay="2" handle2="-5,-10" setvalue="true" forceplaysounds="true" comparison="and">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 20" />
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
          <Sound file="%ModDir%/Rifle/RifleEjectPortClose.ogg" type="OnUse" range="1000" />
        </StatusEffect>
        <!-- Mid-status effect animation. -->
        <StatusEffect type="OnUse" target="This" delay="2.2" condition="100" setvalue="true" comparison="and">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 20" />
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
        </StatusEffect>
        <!-- Sets the gun's and hand's position back to default. -->
        <StatusEffect type="OnUse" target="This" delay="2.7" holdpos="20,-10" aimpos="27,0" handle2="55,-5" holdangle="-30" aimangle="0" setvalue="true" comparison="and">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 20" />
          <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
        </StatusEffect>
        <!-- Plays if  the skill requirement is higher than 40. -->
        <!-- Sets the gun's and hand's position. -->
        <StatusEffect type="OnUse" target="This" delay="0.3" holdpos="30,-10" handle2="-5,-10" holdangle="-10" setvalue="true">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
        </StatusEffect>
        <!-- Sets the hand to open eject port position. -->
        <StatusEffect type="OnUse" target="This" delay="0.6" handle2="-20,0" setvalue="true" forceplaysounds="true">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
          <Sound file="%ModDir%/Rifle/RifleEjectPortOpen.ogg" type="OnUse" range="1000" />
        </StatusEffect>
        <!-- Mid-status effect animation. -->
        <StatusEffect type="OnUse" target="This" delay="0.7" condition="50" setvalue="true">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
          <ParticleEmitter particle="rifleammocasing" particleamount="1" anglemin="90" anglemax="150" velocitymin="50" velocitymax="250" CopyEntityAngle="true" />
          <ParticleEmitter particle="gunbubbles" particleamount="3" anglemin="180" anglemax="200" velocitymin="10" velocitymax="20" distancemin="0" distancemax="10" />
        </StatusEffect>
        <!-- Sets the hand back. -->
        <StatusEffect type="OnUse" target="This" delay="1" handle2="-5,-10" setvalue="true" forceplaysounds="true">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
          <Sound file="%ModDir%/Rifle/RifleEjectPortClose.ogg" type="OnUse" range="1000" />
        </StatusEffect>
        <!-- Mid-status effect animation. -->
        <StatusEffect type="OnUse" target="This" delay="1.2" condition="100" setvalue="true" comparison="and">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
        </StatusEffect>
        <!-- Sets the gun's and hand's position back to default. -->
        <StatusEffect type="OnUse" target="This" delay="1.7" holdpos="20,-10" handle2="55,-5" holdangle="-30" aimangle="0" setvalue="true">
          <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
        </StatusEffect>
        <!-- Fail safe if the players save and quit during the reloading or shooting. Sets the gun's values to default. -->
        <StatusEffect Type="Always" OneShot="True" target="Contained" targetidentifiers="riflereloading" condition="100" setvalue="true" />
        <StatusEffect Type="Always" OneShot="True" target="This" holdpos="20,-10" aimpos="27,0" handle1="0,-19" handle2="55,-5" holdangle="-30" aimangle="0" condition="100" setvalue="true" />
        <StatusEffect type="Always" OneShot="True" targetitemcomponent="LightComponent" target="This" lightcolor="255,255,75,0" setvalue="true" />
        <StatusEffect type="Always" OneShot="True" targetitemcomponent="ItemContainer" target="This" AllowAccess="true" setvalue="true" />
        <!-- OnBroken (when condition is set to 0 from OnInserted status effects in Containable intended for reloading animation),
      Proxy item's condition will be set to 0 and back to 100 after a delay. -->
        <StatusEffect type="OnBroken" target="Contained" targetidentifiers="rifreloading" delay="0.01" condition="0" setvalue="true" />
        <StatusEffect type="OnBroken" target="Contained" targetidentifiers="rifreloading" delay="2.1" condition="100" setvalue="true" />
        <!-- Gun requires ammo to use. -->
        <RequiredItems items="rifleammo,grenade" type="Contained" msg="ItemMsgAmmoRequired" />
        <!-- Gun requires proxy item to use. During the reloading, the proxy item's condition is set to 0, preventing the item from firing. -->
        <RequiredItems items="rifreloading" type="Contained" />
        <RequiredSkill identifier="weapons" level="50" />
      </RangedWeapon>
      <!-- Gun's muzzle which works like a light component. -->
      <LightComponent range="50.0" lightcolor="255,255,75,0" IsOn="true">
        <LightTexture texture="%ModDir%/Rifle/RifleMuzzle.png" origin="0.32,0.595" size="1.0,1.0" />
      </LightComponent>
      <ItemContainer capacity="1" maxstacksize="1" hideitems="false" containedspritedepth="0.56" containedstateindicatorstyle="bullet" containedstateindicatorslot="1" SpawnWithId="rifleStockVGM">
        <Containable items="grenade,smallMuzzleVGM,bigMuzzleVGM" hide="false" itempos="66,-1.75">
          <StatusEffect type="OnRemoved" target="This" itempos="75,-1.75" setvalue="true" disabledeltatime="true">
            <RequiredItems items="grenade" type="Contained" />
          </StatusEffect>
          <StatusEffect type="OnRemoved" target="This" barrelpos="130,0" itempos="66,-1.75" weapondamagemodifier="1.0" setvalue="true" disabledeltatime="true" />
        </Containable>
        <SlotIcon slotindex="0" texture="%ModDir%/UI/icons_betadev.png" sourcerect="64,0,64,64" origin="0.5,0.5" />
        <SlotIcon slotindex="1" texture="Content/UI/StatusMonitorUI.png" sourcerect="256,448,64,64" origin="0.5,0.5" />
        <SlotIcon slotindex="2" texture="Content/UI/StatusMonitorUI.png" sourcerect="320,448,64,64" origin="0.5,0.5" />
        <SlotIcon slotindex="3" texture="%ModDir%/UI/icons.png" sourcerect="64,0,64,64" />
        <SlotIcon slotindex="4" texture="%ModDir%/UI/icons.png" sourcerect="128,0,64,64" />
        <SlotIcon slotindex="5" texture="%ModDir%/UI/icons_betadev.png" sourcerect="0,0,64,64" />
        <SubContainer capacity="1" maxstacksize="6">
          <Containable items="rifleammo" hide="true">
            <!-- Hides the slots, preventing the person from adding more or removing. -->
            <StatusEffect type="OnInserted" target="This" AllowAccess="false" delay="0.01" setvalue="true">
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Unhides the slots, allowing the person from adding more or removing. -->
            <StatusEffect type="OnInserted" target="This" AllowAccess="true" delay="2.1" setvalue="true">
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Statuseffects are triggered only if matching certain weapons skill. -->
            <!-- Upon reloading, sets the condition to 0, triggering OnBroken status effect.
          On top of that, triggers reload animations and blah blah blah.
          Condition=0 is set with a delay to not cause any issues with some condition-conditional status effects. -->
            <StatusEffect type="OnInserted" target="This" holdpos="30,-10" aimpos="25,5" delay="0.01" condition="0" handle2="-5,-10" holdangle="20" aimangle="20" setvalue="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Sets the hand to open eject port position. -->
            <StatusEffect type="OnInserted" target="This" delay="0.3" handle2="-20,0" setvalue="true" forceplaysounds="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
              <Conditional targetcontainer="true" isplayer="true" />
              <ParticleEmitter particle="gunbubbles" particleamount="3" anglemin="180" anglemax="200" velocitymin="10" velocitymax="20" distancemin="0" distancemax="10" />
              <Sound file="%ModDir%/Rifle/RifleEjectPortOpen.ogg" type="OnUse" range="1000" />
            </StatusEffect>
            <!-- Mid-status effect animation. -->
            <StatusEffect type="OnInserted" target="This" delay="0.4" condition="50" setvalue="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Sets the hand to insert rounds. -->
            <StatusEffect type="OnInserted" target="This" delay="0.8" handle2="-5,-10" setvalue="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Round insert sound. -->
            <StatusEffect type="OnInserted" target="This" delay="0.9" forceplaysounds="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
              <Conditional targetcontainer="true" isplayer="true" />
              <Sound file="%ModDir%/Rifle/RifleRoundInsert.ogg" type="OnUse" range="1000" />
              <ParticleEmitter particle="gunbubbles" particleamount="3" anglemin="180" anglemax="200" velocitymin="10" velocitymax="20" distancemin="0" distancemax="10" />
            </StatusEffect>
            <!-- Sets the hand to open eject port position. -->
            <StatusEffect type="OnInserted" target="This" delay="1.3" handle2="-20,0" setvalue="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Sets the hand to closed eject port position. -->
            <StatusEffect type="OnInserted" target="This" delay="1.6" handle2="-5,-10" setvalue="true" forceplaysounds="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
              <Sound file="%ModDir%/Rifle/RifleEjectPortClose.ogg" type="OnUse" range="1000" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Mid-status effect animation. -->
            <StatusEffect type="OnInserted" target="This" delay="1.7" condition="100" setvalue="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Sets everything to default values. -->
            <StatusEffect type="OnInserted" target="This" delay="2" holdpos="20,-10" aimpos="27,0" handle2="55,-5" holdangle="-30" aimangle="0" setvalue="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="lt 40" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Statuseffects are triggered only if matching certain weapons skill. -->
            <!-- Upon reloading, sets the condition to 0, triggering OnBroken status effect.
          On top of that, triggers reload animations and blah blah blah.
          Condition=0 is set with a delay to not cause any issues with some condition-conditional status effects. -->
            <StatusEffect type="OnInserted" target="This" holdpos="30,-10" holdangle="20" delay="0.01" condition="0" handle2="-5,-10" setvalue="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Sets the hand to open eject port position. -->
            <StatusEffect type="OnInserted" target="This" delay="0.3" handle2="-20,0" setvalue="true" forceplaysounds="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
              <Conditional targetcontainer="true" isplayer="true" />
              <Sound file="%ModDir%/Rifle/RifleEjectPortOpen.ogg" type="OnUse" range="1000" />
            </StatusEffect>
            <!-- Mid-status effect animation. -->
            <StatusEffect type="OnInserted" target="This" delay="0.4" condition="50" setvalue="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Sets the hand to insert rounds. -->
            <StatusEffect type="OnInserted" target="This" delay="0.8" handle2="-5,-10" setvalue="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Round insert sound. -->
            <StatusEffect type="OnInserted" target="This" delay="0.9" forceplaysounds="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
              <Conditional targetcontainer="true" isplayer="true" />
              <Sound file="%ModDir%/Rifle/RifleRoundInsert.ogg" type="OnUse" range="1000" />
              <ParticleEmitter particle="gunbubbles" particleamount="3" anglemin="180" anglemax="200" velocitymin="10" velocitymax="20" distancemin="0" distancemax="10" />
            </StatusEffect>
            <!-- Sets the hand to open eject port position. -->
            <StatusEffect type="OnInserted" target="This" delay="1.3" handle2="-20,0" setvalue="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Sets the hand to closed eject port position. -->
            <StatusEffect type="OnInserted" target="This" delay="1.6" handle2="-5,-10" setvalue="true" forceplaysounds="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
              <Sound file="%ModDir%/Rifle/RifleEjectPortClose.ogg" type="OnUse" range="1000" />
              <ParticleEmitter particle="gunbubbles" particleamount="3" anglemin="180" anglemax="200" velocitymin="10" velocitymax="20" distancemin="0" distancemax="10" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Mid-status effect animation. -->
            <StatusEffect type="OnInserted" target="This" delay="1.7" condition="100" setvalue="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
            <!-- Sets everything to default values. -->
            <StatusEffect type="OnInserted" target="This" delay="2" holdpos="20,-10" aimpos="27,0" handle2="55,-5" holdangle="-30" aimangle="0" setvalue="true" conditionalcomparison="and">
              <Conditional targetcontainer="true" skillrequirement="true" weapons="gte 40" />
              <Conditional targetcontainer="true" isplayer="true" />
            </StatusEffect>
          </Containable>
        </SubContainer>
        <!-- 16,-2 -->
        <SubContainer capacity="1" maxstacksize="1">
          <Containable items="smallAccessoryVGM,bigAccessoryVGM,flashlight,glowstick,flare,alienflare,redlazerVGM" hideitems="false" itempos="39,-6" setactive="true">
            <StatusEffect type="OnRemoved" target="This" holdangle="-40" setvalue="true" disabledeltatime="true" />
          </Containable>
        </SubContainer>
        <SubContainer capacity="1" maxstacksize="1">
          <Containable items="smallStockVGM,rifleStockVGM" hideitems="false" itempos="-4,-12" setactive="true">
            <StatusEffect type="OnRemoved" target="This" spread="2" unskilledspread="4" SpeedMultiplier="1.1" setvalue="true" disabledeltatime="true" />
          </Containable>
        </SubContainer>
        <SubContainer capacity="1" maxstacksize="1">
          <Containable items="smallScopeVGM,bigScopeVGM,flashlight,glowstick,flare,alienflare,redlazerVGM" hide="false" itempos="20,0" setactive="true">
            <StatusEffect type="OnRemoved" target="This" cameraaimoffset="0" crosshairscale="0.15" setvalue="true" drawhudwhenequipped="true" disabledeltatime="true" />
          </Containable>
        </SubContainer>
        <SubContainer capacity="1" maxstacksize="1">
          <Containable items="scannerVGM" hide="false" itempos="20,1" setactive="true"></Containable>
        </SubContainer>
      </ItemContainer>
      <!-- Where proxy item is located. -->
      <ItemContainer capacity="1" maxstacksize="1" hideitems="true" drawinventory="false" spawnwithid="rifreloading" removecontaineditemsondeconstruct="true">
        <!-- RemoveContainedItemsOnDeconstruct removes proxy on deconstruction. -->&gt;
        <Containable items="rifreloading" hide="true" /></ItemContainer>
      <aitarget sightrange="3000" soundrange="5000" fadeouttime="5" />
      <Quality>
        <QualityStat stattype="FirepowerMultiplier" value="0.1" />
      </Quality>
      <SkillRequirementHint identifier="weapons" level="50" />
    </Item>
    <!-- Proxy item. -->
    <Item name=" " identifier="rifreloading" maxstacksize="1" scale="0.5" category="Weapon" NonInteractable="True" hideinmenus="true" tags="smallitem,rifreloading">
      <InventoryIcon texture="%ModDir%/Ammunition.png" sourcerect="308,64,64,64" origin="0.5,0.5" />
      <Sprite texture="Content/Items/Weapons/weapons_new.png" sourcerect="195,282,17,6" depth="0.55" origin="0.5,0.5" />
      <Body width="5" height="5" density="25" />
      <Holdable canBeCombined="true" slots="Any,RightHand,LeftHand" handle1="0,0" msg="ItemMsgPickUpSelect" />
    </Item>
  </Items>
</Override>