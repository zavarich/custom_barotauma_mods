<?xml version="1.0" encoding="utf-8"?>
<Items>
  <Override>
    <!-- 小型彈頭 (1型) -->
    <Item name="" identifier="ekgunnery_warheadsmall1" category="Weapon" Tags="logic,detonator" subcategory="ek_gunnery_r" Scale="0.5">
      <Sprite texture="%ModDir%/Items/Electricity/ekgunnery_warheads.png" depth="0.8" sourcerect="0,0,96,80" origin="0.5,0.5" />
      <BrokenSprite texture="%ModDir%/Items/Electricity/ekgunnery_warheads.png" depth="0.8" sourcerect="0,80,96,80" maxcondition="10" origin="0.5,0.5" />
      <!-- 定義容器 -->
      <ItemContainer canbeselected="true" hideitems="true" capacity="1" maxstacksize="1" itempos="0,0" containedstateindicatorstyle="explosive" msg="ItemMsgInteractSelect">
        <!-- 容器介面 -->
        <GuiFrame relativesize="0.2,0.25" anchor="Center" minsize="140,170" maxsize="280,280" style="ItemUI" />
        <!-- 只能放UEX，且塞入UEX時回復耐久，改動，只能在耐久等於0時才能自動填充 -->
        <Containable items="uex">
          <StatusEffect type="OnContaining" target="This" Condition="100.0" disabledeltatime="true" allowwhenbroken="true" />
          <StatusEffect type="OnContaining" target="Contained" disabledeltatime="true" allowwhenbroken="true">
            <Remove />
          </StatusEffect>
        </Containable>
        <StatusEffect type="Always" target="This" targetitemcomponent="ItemContainer" setvalue="true" canbeselected="false" drawinventory="false" allowwhenbroken="true">
          <Conditional condition="gt 10" />
        </StatusEffect>
        <StatusEffect type="Always" target="This" targetitemcomponent="ItemContainer" setvalue="true" canbeselected="true" drawinventory="true" allowwhenbroken="true">
          <Conditional condition="lt 10" />
        </StatusEffect>
        <!--
	  <StatusEffect type="OnBroken" target="This">
        <sound file="Content/Items/Weapons/ExplosionSmall1.ogg" selectionmode="Random" range="20000"/>
        <sound file="Content/Items/Weapons/ExplosionSmall2.ogg" selectionmode="Random" range="20000"/>
        <sound file="Content/Items/Weapons/ExplosionSmall3.ogg" selectionmode="Random" range="20000"/>
        <ParticleEmitter particle="underwaterexplosion" copyentityangle="true" anglemin="0" anglemax="360" particleamount="1" scalemin="3.0" scalemax="3.0" />
        <ParticleEmitter particle="shrapnel" copyentityangle="true" anglemin="0" anglemax="360" particleamount="50" velocitymin="100" velocitymax="2000" scalemin="1.0" scalemax="1.0" />
        <Explosion range="350.0" structuredamage="30" itemdamage="400" stun="0.5" force="25.0" severlimbsprobability="0.5" decal="explosion" decalsize="0.5">
          <Affliction identifier="bleeding" strength="30" />
          <Affliction identifier="burn" strength="50" />
          <Affliction identifier="lacerations" strength="80" />
          <Affliction identifier="explosiondamage" strength="20" />
        </Explosion>
      </StatusEffect>
	  -->
        <StatusEffect type="OnBroken" target="This" Condition="5" disabledeltatime="true" delay="0.1" />
      </ItemContainer>
      <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
        <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
        <RequiredItem items="screwdriver" type="Equipped" />
        <input name="activate" displayname="connection.activate">
          <StatusEffect type="OnUse" target="This" Condition="-60.0" disabledeltatime="true" stackable="false" delay="0.05">
            <Conditional condition="gt 10" />
            <sound file="Content/Items/Weapons/ExplosionMedium1.ogg" selectionmode="Random" range="10000" />
            <sound file="Content/Items/Weapons/ExplosionMedium2.ogg" selectionmode="Random" range="10000" />
            <sound file="Content/Items/Weapons/ExplosionMedium3.ogg" selectionmode="Random" range="10000" />
            <ParticleEmitter particle="explosionfire" particleamount="20" distancemin="0" distancemax="128" anglemin="-360" anglemax="360" scalemin="1.5" scalemax="3.5" velocitymin="125" velocitymax="250" />
            <ParticleEmitter particle="explosionsmoke" particleamount="4" distancemin="0" distancemax="128" anglemin="-360" anglemax="360" scalemin="2.5" scalemax="5.0" velocitymin="125" velocitymax="250" />
            <ParticleEmitter particle="ekgunnery_hdimpactmedium" particleamount="1" velocitymin="0" velocitymax="0" scalemin="6" scalemax="8" />
            <ParticleEmitter particle="ekgunnery_hdimpactlarge" particleamount="1" velocitymin="0" velocitymax="0" scalemin="3.0" scalemax="4.0" />
            <ParticleEmitter particle="ekgunneryunderwaterexplosionfix" particleamount="1" scalemin="1.75" scalemax="2.0" />
            <!-- 爆炸威力下調，但增加穿甲0.5，爆炸範圍分為內外圈，外圈傷害為內圈的0.4倍(結構傷害為0.3倍)，範圍為內圈的1.5倍，內圈衝擊力增加5 -->
            <Explosion range="650.0" ballastfloradamage="100" structuredamage="150" itemdamage="500" force="20" severlimbsprobability="0.5" decal="explosion" decalsize="0.5" penetration="0.5">
              <Affliction identifier="explosiondamage" strength="125" dividebylimbcount="true" />
              <Affliction identifier="burn" strength="15" probability="0.2" dividebylimbcount="false" />
              <Affliction identifier="bleeding" strength="40" probability="0.05" dividebylimbcount="false" />
              <Affliction identifier="stun" strength="7" />
            </Explosion>
          </StatusEffect>
          <StatusEffect type="OnUse" target="This" Condition="-60.0" disabledeltatime="true" stackable="false" delay="0.05">
            <Conditional condition="gt 10" />
            <Explosion range="975.0" ballastfloradamage="30" structuredamage="45" itemdamage="150" force="15" severlimbsprobability="0.5" decal="explosion" decalsize="0.5" penetration="0.5">
              <Affliction identifier="explosiondamage" strength="40" dividebylimbcount="true" />
              <!-- 傷害為內圈的0.4倍 -->
              <Affliction identifier="burn" strength="4.5" probability="0.2" dividebylimbcount="false" />
              <!-- 傷害為內圈的0.4倍 -->
              <Affliction identifier="bleeding" strength="12" probability="0.05" dividebylimbcount="false" />
              <!-- 傷害為內圈的0.4倍 -->
              <Affliction identifier="stun" strength="2.0" />
              <!-- 內圈的約0.3倍 -->
            </Explosion>
          </StatusEffect>
        </input>
        <output name="condition_out" displayname="connection.conditionout" />
      </ConnectionPanel>
      <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0" mindeteriorationdelay="0" maxdeteriorationdelay="0" MinDeteriorationCondition="0" minsabotagecondition="0" RepairThreshold="0" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ordername.reload" hudpriority="10">
        <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,216" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
        <RequiredItem items="nuclearaftereffectemitter" type="equipped" />
      </Repairable>
    </Item>
    <!-- 小型彈頭 (2型)，傷害統一，1、2型暈眩一樣 -->
    <Item name="" identifier="ekgunnery_warheadsmall2" category="Weapon" Tags="logic,detonator" subcategory="ek_gunnery_r" Scale="0.5">
      <Sprite texture="%ModDir%/Items/Electricity/ekgunnery_warheads.png" depth="0.8" sourcerect="112,0,128,48" origin="0.5,0.5" />
      <BrokenSprite texture="%ModDir%/Items/Electricity/ekgunnery_warheads.png" depth="0.8" sourcerect="112,48,128,48" maxcondition="10" origin="0.5,0.5" />
      <ItemContainer canbeselected="true" hideitems="true" capacity="1" maxstacksize="1" itempos="0,0" containedstateindicatorstyle="explosive" msg="ItemMsgInteractSelect">
        <GuiFrame relativesize="0.2,0.25" anchor="Center" minsize="140,170" maxsize="280,280" style="ItemUI" />
        <Containable items="uex">
          <StatusEffect type="OnContaining" target="This" Condition="100.0" disabledeltatime="true" allowwhenbroken="true" />
          <StatusEffect type="OnContaining" target="Contained" disabledeltatime="true" allowwhenbroken="true">
            <Remove />
          </StatusEffect>
        </Containable>
        <StatusEffect type="Always" target="This" targetitemcomponent="ItemContainer" setvalue="true" canbeselected="false" drawinventory="false" allowwhenbroken="true">
          <Conditional condition="gt 10" />
        </StatusEffect>
        <StatusEffect type="Always" target="This" targetitemcomponent="ItemContainer" setvalue="true" canbeselected="true" drawinventory="true" allowwhenbroken="true">
          <Conditional condition="lt 10" />
        </StatusEffect>
        <StatusEffect type="OnBroken" target="This" Condition="5" disabledeltatime="true" delay="0.1" />
      </ItemContainer>
      <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
        <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
        <RequiredItem items="screwdriver" type="Equipped" />
        <input name="activate" displayname="connection.activate">
          <StatusEffect type="OnUse" target="This" Condition="-60.0" disabledeltatime="true" stackable="false" delay="0.05">
            <Conditional condition="gt 10" />
            <sound file="Content/Items/Weapons/ExplosionMedium1.ogg" selectionmode="Random" range="10000" />
            <sound file="Content/Items/Weapons/ExplosionMedium2.ogg" selectionmode="Random" range="10000" />
            <sound file="Content/Items/Weapons/ExplosionMedium3.ogg" selectionmode="Random" range="10000" />
            <ParticleEmitter particle="explosionfire" particleamount="20" distancemin="0" distancemax="128" anglemin="-360" anglemax="360" scalemin="1.5" scalemax="3.5" velocitymin="125" velocitymax="250" />
            <ParticleEmitter particle="explosionsmoke" particleamount="4" distancemin="0" distancemax="128" anglemin="-360" anglemax="360" scalemin="2.5" scalemax="5.0" velocitymin="125" velocitymax="250" />
            <ParticleEmitter particle="ekgunnery_hdimpactmedium" particleamount="1" velocitymin="0" velocitymax="0" scalemin="6" scalemax="8" />
            <ParticleEmitter particle="ekgunnery_hdimpactlarge" particleamount="1" velocitymin="0" velocitymax="0" scalemin="3.0" scalemax="4.0" />
            <ParticleEmitter particle="ekgunneryunderwaterexplosionfix" particleamount="1" scalemin="1.75" scalemax="2.0" />
            <ParticleEmitter particle="shrapnel" copyentityangle="true" anglemin="0" anglemax="360" particleamount="50" velocitymin="100" velocitymax="2000" scalemin="1.0" scalemax="1.0" />
            <!-- 爆炸威力下調，但增加穿甲0.5，爆炸範圍分為內外圈，外圈傷害為內圈的0.4倍(結構傷害為0.3倍)，範圍為內圈的1.5倍，內圈衝擊力增加5 -->
            <Explosion range="650.0" ballastfloradamage="100" structuredamage="150" itemdamage="500" force="20" severlimbsprobability="0.5" decal="explosion" decalsize="0.5" penetration="0.5">
              <Affliction identifier="explosiondamage" strength="125" dividebylimbcount="true" />
              <Affliction identifier="burn" strength="15" probability="0.2" dividebylimbcount="false" />
              <Affliction identifier="bleeding" strength="40" probability="0.05" dividebylimbcount="false" />
              <Affliction identifier="stun" strength="7" />
            </Explosion>
          </StatusEffect>
          <StatusEffect type="OnUse" target="This" Condition="-60.0" disabledeltatime="true" stackable="false" delay="0.05">
            <Conditional condition="gt 10" />
            <Explosion range="975.0" ballastfloradamage="30" structuredamage="45" itemdamage="150" force="15" severlimbsprobability="0.5" decal="explosion" decalsize="0.5" penetration="0.5">
              <Affliction identifier="explosiondamage" strength="40" dividebylimbcount="true" />
              <!-- 傷害為內圈的0.4倍 -->
              <Affliction identifier="burn" strength="4.5" probability="0.2" dividebylimbcount="false" />
              <!-- 傷害為內圈的0.4倍 -->
              <Affliction identifier="bleeding" strength="12" probability="0.05" dividebylimbcount="false" />
              <!-- 傷害為內圈的0.4倍 -->
              <Affliction identifier="stun" strength="2.0" />
              <!-- 內圈的約0.3倍 -->
            </Explosion>
          </StatusEffect>
        </input>
        <output name="condition_out" displayname="connection.conditionout" />
      </ConnectionPanel>
      <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0" mindeteriorationdelay="0" maxdeteriorationdelay="0" MinDeteriorationCondition="0" minsabotagecondition="0" RepairThreshold="0" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ordername.reload" hudpriority="10">
        <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,216" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
        <RequiredItem items="nuclearaftereffectemitter" type="equipped" />
      </Repairable>
    </Item>
    <!-- 中型彈頭 (1型) -->
    <Item name="" identifier="ekgunnery_warheadmedium1" category="Weapon" Tags="logic,detonator" subcategory="ek_gunnery_r" Scale="0.5">
      <Sprite texture="%ModDir%/Items/Electricity/ekgunnery_warheads.png" depth="0.8" sourcerect="256,0,128,128" origin="0.5,0.5" />
      <BrokenSprite texture="%ModDir%/Items/Electricity/ekgunnery_warheads.png" depth="0.8" sourcerect="256,128,128,128" maxcondition="10" origin="0.5,0.5" />
      <ItemContainer canbeselected="true" hideitems="true" capacity="1" maxstacksize="1" itempos="0,0" containedstateindicatorstyle="explosive" msg="ItemMsgInteractSelect">
        <GuiFrame relativesize="0.2,0.25" anchor="Center" minsize="140,170" maxsize="280,280" style="ItemUI" />
        <Containable items="c4block">
          <StatusEffect type="OnContaining" target="This" Condition="100.0" disabledeltatime="true" allowwhenbroken="true" />
          <StatusEffect type="OnContaining" target="Contained" disabledeltatime="true" allowwhenbroken="true">
            <Remove />
          </StatusEffect>
        </Containable>
        <StatusEffect type="Always" target="This" targetitemcomponent="ItemContainer" setvalue="true" canbeselected="false" drawinventory="false" allowwhenbroken="true">
          <Conditional condition="gt 10" />
        </StatusEffect>
        <StatusEffect type="Always" target="This" targetitemcomponent="ItemContainer" setvalue="true" canbeselected="true" drawinventory="true" allowwhenbroken="true">
          <Conditional condition="lt 10" />
        </StatusEffect>
        <StatusEffect type="OnBroken" target="This" Condition="5" disabledeltatime="true" delay="0.1" />
      </ItemContainer>
      <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
        <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
        <RequiredItem items="screwdriver" type="Equipped" />
        <input name="activate" displayname="connection.activate">
          <StatusEffect type="OnUse" target="This" Condition="-60.0" disabledeltatime="true" stackable="false" delay="0.05">
            <Conditional condition="gt 10" />
            <sound file="Content/Items/Weapons/ExplosionLarge1.ogg" selectionmode="Random" range="15000" />
            <sound file="Content/Items/Weapons/ExplosionLarge2.ogg" selectionmode="Random" range="15000" />
            <ParticleEmitter particle="explosionfire" particleamount="20" distancemin="0" distancemax="128" anglemin="-360" anglemax="360" scalemin="1.5" scalemax="3.5" velocitymin="250" velocitymax="500" />
            <ParticleEmitter particle="explosionsmoke" particleamount="4" distancemin="0" distancemax="128" anglemin="-360" anglemax="360" scalemin="2.5" scalemax="5.0" velocitymin="250" velocitymax="500" />
            <ParticleEmitter particle="ekgunnery_hdimpactmedium" particleamount="1" velocitymin="0" velocitymax="0" scalemin="8" scalemax="10" />
            <ParticleEmitter particle="ekgunnery_hdimpactlarge" particleamount="1" velocitymin="0" velocitymax="0" scalemin="4.0" scalemax="5.0" />
            <ParticleEmitter particle="ekgunneryunderwaterexplosionfix" particleamount="1" scalemin="1.75" scalemax="2.0" />
            <ParticleEmitter particle="shrapnel" copyentityangle="true" anglemin="0" anglemax="360" particleamount="50" velocitymin="100" velocitymax="2000" scalemin="1.0" scalemax="1.0" />
            <Explosion range="975.0" ballastfloradamage="200" structuredamage="300" itemdamage="1000" force="25" severlimbsprobability="2" decal="explosion" decalsize="0.75" penetration="0.5">
              <Affliction identifier="explosiondamage" strength="250" />
              <Affliction identifier="burn" strength="30" probability="0.2" dividebylimbcount="false" />
              <Affliction identifier="bleeding" strength="40" probability="0.05" dividebylimbcount="false" />
              <Affliction identifier="stun" strength="10" />
            </Explosion>
          </StatusEffect>
          <StatusEffect type="OnUse" target="This" Condition="-60.0" disabledeltatime="true" stackable="false" delay="0.05">
            <Conditional condition="gt 10" />
            <Explosion range="1462.5" ballastfloradamage="60" structuredamage="90" itemdamage="300" force="20" severlimbsprobability="2" decal="explosion" decalsize="0.75" penetration="0.5">
              <Affliction identifier="explosiondamage" strength="100" />
              <Affliction identifier="burn" strength="12" probability="0.2" dividebylimbcount="false" />
              <Affliction identifier="bleeding" strength="16" probability="0.05" dividebylimbcount="false" />
              <Affliction identifier="stun" strength="3" />
            </Explosion>
          </StatusEffect>
        </input>
        <output name="condition_out" displayname="connection.conditionout" />
      </ConnectionPanel>
      <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0" mindeteriorationdelay="0" maxdeteriorationdelay="0" MinDeteriorationCondition="0" minsabotagecondition="0" RepairThreshold="0" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ordername.reload" hudpriority="10">
        <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,216" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
        <RequiredItem items="nuclearaftereffectemitter" type="equipped" />
      </Repairable>
    </Item>
    <!-- 中型彈頭 (2型) -->
    <Item name="" identifier="ekgunnery_warheadmedium2" category="Weapon" Tags="logic,detonator" subcategory="ek_gunnery_r" Scale="0.5">
      <Sprite texture="%ModDir%/Items/Electricity/ekgunnery_warheads.png" depth="0.8" sourcerect="112,96,144,128" origin="0.5,0.5" />
      <BrokenSprite texture="%ModDir%/Items/Electricity/ekgunnery_warheads.png" depth="0.8" sourcerect="112,224,144,128" maxcondition="10" origin="0.5,0.5" />
      <ItemContainer canbeselected="true" hideitems="true" capacity="1" maxstacksize="1" itempos="0,0" containedstateindicatorstyle="explosive" msg="ItemMsgInteractSelect">
        <GuiFrame relativesize="0.2,0.25" anchor="Center" minsize="140,170" maxsize="280,280" style="ItemUI" />
        <Containable items="c4block">
          <StatusEffect type="OnContaining" target="This" Condition="100.0" disabledeltatime="true" allowwhenbroken="true" />
          <StatusEffect type="OnContaining" target="Contained" disabledeltatime="true" allowwhenbroken="true">
            <Remove />
          </StatusEffect>
        </Containable>
        <StatusEffect type="Always" target="This" targetitemcomponent="ItemContainer" setvalue="true" canbeselected="false" drawinventory="false" allowwhenbroken="true">
          <Conditional condition="gt 10" />
        </StatusEffect>
        <StatusEffect type="Always" target="This" targetitemcomponent="ItemContainer" setvalue="true" canbeselected="true" drawinventory="true" allowwhenbroken="true">
          <Conditional condition="lt 10" />
        </StatusEffect>
        <StatusEffect type="OnBroken" target="This" Condition="5" disabledeltatime="true" delay="0.1" />
      </ItemContainer>
      <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
        <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
        <RequiredItem items="screwdriver" type="Equipped" />
        <input name="activate" displayname="connection.activate">
          <StatusEffect type="OnUse" target="This" Condition="-60.0" disabledeltatime="true" stackable="false" delay="0.05">
            <Conditional condition="gt 10" />
            <sound file="Content/Items/Weapons/ExplosionLarge1.ogg" selectionmode="Random" range="15000" />
            <sound file="Content/Items/Weapons/ExplosionLarge2.ogg" selectionmode="Random" range="15000" />
            <ParticleEmitter particle="explosionfire" particleamount="20" distancemin="0" distancemax="128" anglemin="-360" anglemax="360" scalemin="1.5" scalemax="3.5" velocitymin="250" velocitymax="500" />
            <ParticleEmitter particle="explosionsmoke" particleamount="4" distancemin="0" distancemax="128" anglemin="-360" anglemax="360" scalemin="2.5" scalemax="5.0" velocitymin="250" velocitymax="500" />
            <ParticleEmitter particle="ekgunnery_hdimpactmedium" particleamount="1" velocitymin="0" velocitymax="0" scalemin="8" scalemax="10" />
            <ParticleEmitter particle="ekgunnery_hdimpactlarge" particleamount="1" velocitymin="0" velocitymax="0" scalemin="4.0" scalemax="5.0" />
            <ParticleEmitter particle="ekgunneryunderwaterexplosionfix" particleamount="1" scalemin="1.75" scalemax="2.0" />
            <ParticleEmitter particle="shrapnel" copyentityangle="true" anglemin="0" anglemax="360" particleamount="50" velocitymin="100" velocitymax="2000" scalemin="1.0" scalemax="1.0" />
            <Explosion range="975.0" ballastfloradamage="200" structuredamage="300" itemdamage="1000" force="25" severlimbsprobability="2" decal="explosion" decalsize="0.75" penetration="0.5">
              <Affliction identifier="explosiondamage" strength="250" />
              <Affliction identifier="burn" strength="30" probability="0.2" dividebylimbcount="false" />
              <Affliction identifier="bleeding" strength="40" probability="0.05" dividebylimbcount="false" />
              <Affliction identifier="stun" strength="10" />
            </Explosion>
          </StatusEffect>
          <StatusEffect type="OnUse" target="This" Condition="-60.0" disabledeltatime="true" stackable="false" delay="0.05">
            <Conditional condition="gt 10" />
            <Explosion range="1462.5" ballastfloradamage="60" structuredamage="90" itemdamage="300" force="20" severlimbsprobability="2" decal="explosion" decalsize="0.75" penetration="0.5">
              <Affliction identifier="explosiondamage" strength="100" />
              <Affliction identifier="burn" strength="12" probability="0.2" dividebylimbcount="false" />
              <Affliction identifier="bleeding" strength="16" probability="0.05" dividebylimbcount="false" />
              <Affliction identifier="stun" strength="3" />
            </Explosion>
          </StatusEffect>
        </input>
        <output name="condition_out" displayname="connection.conditionout" />
      </ConnectionPanel>
      <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0" mindeteriorationdelay="0" maxdeteriorationdelay="0" MinDeteriorationCondition="0" minsabotagecondition="0" RepairThreshold="0" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ordername.reload" hudpriority="10">
        <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,216" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
        <RequiredItem items="nuclearaftereffectemitter" type="equipped" />
      </Repairable>
    </Item>
    <!-- 核彈頭 -->
    <Item name="" identifier="ekgunnery_warheadnuclear1" category="Weapon" Tags="logic,detonator" subcategory="ek_gunnery_r" Scale="0.5" spritecolor="200,200,200,255">
      <Sprite texture="%ModDir%/Items/Electricity/ekgunnery_warheads.png" depth="0.8" sourcerect="384,0,160,160" origin="0.5,0.5" />
      <BrokenSprite texture="%ModDir%/Items/Electricity/ekgunnery_warheads.png" depth="0.8" sourcerect="384,160,160,160" maxcondition="10" origin="0.5,0.5" />
      <ItemContainer canbeselected="true" hideitems="true" capacity="1" maxstacksize="1" itempos="0,0" containedstateindicatorstyle="explosive" msg="ItemMsgInteractSelect">
        <GuiFrame relativesize="0.2,0.25" anchor="Center" minsize="140,170" maxsize="280,280" style="ItemUI" />
        <Containable items="nucleardepthcharge,nuclearshell">
          <StatusEffect type="OnContaining" target="This" Condition="100.0" disabledeltatime="true" allowwhenbroken="true" />
          <StatusEffect type="OnContaining" target="Contained" disabledeltatime="true" allowwhenbroken="true">
            <Remove />
          </StatusEffect>
        </Containable>
        <StatusEffect type="Always" target="This" targetitemcomponent="ItemContainer" setvalue="true" canbeselected="false" drawinventory="false" allowwhenbroken="true">
          <Conditional condition="gt 10" />
        </StatusEffect>
        <StatusEffect type="Always" target="This" targetitemcomponent="ItemContainer" setvalue="true" canbeselected="true" drawinventory="true" allowwhenbroken="true">
          <Conditional condition="lt 10" />
        </StatusEffect>
        <StatusEffect type="OnBroken" target="This" Condition="5" disabledeltatime="true" delay="0.1" />
      </ItemContainer>
      <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
        <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
        <RequiredItem items="screwdriver" type="Equipped" />
        <input name="activate" displayname="connection.activate">
          <StatusEffect type="OnUse" target="This" Condition="-60.0" disabledeltatime="true" stackable="false" delay="0.05">
            <Conditional condition="gt 10" />
            <sound file="Content/Items/Weapons/ExplosionLarge1.ogg" selectionmode="Random" range="15000" />
            <sound file="Content/Items/Weapons/ExplosionLarge2.ogg" selectionmode="Random" range="15000" />
            <ParticleEmitter particle="ekgunnerynukeflash" particleamount="2" scalemin="3.5" scalemax="3.5" velocitymin="25" velocitymax="50" />
            <ParticleEmitter particle="ekgunnerynukeshockwave" particleamount="2" velocitymin="25" velocitymax="50" />
            <ParticleEmitter particle="ekgunneryunderwaterexplosionfix" particleamount="1" scalemin="1.75" scalemax="2.0" />
            <ParticleEmitter particle="shrapnel" copyentityangle="true" anglemin="0" anglemax="360" particleamount="50" velocitymin="100" velocitymax="2000" scalemin="1.0" scalemax="1.0" />
            <!-- 核彈機制不同，外圈能打全傷害，內圈增傷，內圈多一重傷害，外圈的0.3倍 -->
            <Explosion range="1500.0" structuredamage="600" itemdamage="1000" ballastfloradamage="1000" force="50.0" severlimbsprobability="2.0" decal="explosion" decalsize="1.5" camerashake="500" camerashakerange="50000" flashrange="10000" flashduration="5.0" screencolor="255,255,255,255" screencolorrange="5000" screencolorduration="5.0" underwaterbubble="false" penetration="0.5">
              <Affliction identifier="explosiondamage" strength="1000" />
              <Affliction identifier="burn" strength="1000" />
              <Affliction identifier="radiationsickness" strength="100" />
              <Affliction identifier="bleeding" strength="500" probability="0.05" />
              <Affliction identifier="stun" strength="30" />
            </Explosion>
            <SpawnItem identifier="nuclearaftereffectemitter" spawnposition="This" />
          </StatusEffect>
          <StatusEffect type="OnUse" target="This" Condition="-60.0" disabledeltatime="true" stackable="false" delay="0.05">
            <Conditional condition="gt 10" />
            <Explosion range="1000.0" structuredamage="180" itemdamage="300" ballastfloradamage="300" force="50.0" severlimbsprobability="2.0" decal="explosion" decalsize="1.0" shockwave="false" smoke="false" flames="false" flash="false" sparks="false">
              <Affliction identifier="explosiondamage" strength="300" />
              <Affliction identifier="burn" strength="300" />
              <Affliction identifier="radiationsickness" strength="25" />
              <Affliction identifier="bleeding" strength="150" probability="0.05" />
              <Affliction identifier="stun" strength="9" />
            </Explosion>
          </StatusEffect>
        </input>
        <output name="condition_out" displayname="connection.conditionout" />
      </ConnectionPanel>
      <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="0" mindeteriorationdelay="0" maxdeteriorationdelay="0" MinDeteriorationCondition="0" minsabotagecondition="0" RepairThreshold="0" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ordername.reload" hudpriority="10">
        <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,216" anchor="Center" relativeoffset="0.0,0.27" style="ItemUI" />
        <RequiredItem items="nuclearaftereffectemitter" type="equipped" />
      </Repairable>
    </Item>
  </Override>
</Items>